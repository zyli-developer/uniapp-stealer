"use strict";const Pu=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};function It(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function Si(e){if($(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=j(r)?Eu(r):Si(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(j(e))return e;if(U(e))return e}}const Ou=/;(?![^(]*\))/g,xu=/:([^]+)/,Cu=/\/\*.*?\*\//gs;function Eu(e){const t={};return e.replace(Cu,"").split(Ou).forEach(n=>{if(n){const r=n.split(xu);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ii(e){let t="";if(j(e))t=e;else if($(e))for(let n=0;n<e.length;n++){const r=Ii(e[n]);r&&(t+=r+" ")}else if(U(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ku=e=>j(e)?e:e==null?"":$(e)||U(e)&&(e.toString===xi||!P(e.toString))?JSON.stringify(e,Ti,2):String(e),Ti=(e,t)=>t&&t.__v_isRef?Ti(e,t.value):Ge(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:Oi(t)?{[`Set(${t.size})`]:[...t.values()]}:U(t)&&!$(t)&&!B(t)?String(t):t,H=Object.freeze({}),Bo=Object.freeze([]),G=()=>{},Ai=()=>!1,$u=/^on[^a-z]/,Pi=e=>$u.test(e),Ko=e=>e.startsWith("onUpdate:"),M=Object.assign,Nn=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ru=Object.prototype.hasOwnProperty,k=(e,t)=>Ru.call(e,t),$=Array.isArray,Ge=e=>be(e)==="[object Map]",Oi=e=>be(e)==="[object Set]",P=e=>typeof e=="function",j=e=>typeof e=="string",to=e=>typeof e=="symbol",U=e=>e!==null&&typeof e=="object",Yt=e=>U(e)&&P(e.then)&&P(e.catch),xi=Object.prototype.toString,be=e=>xi.call(e),Mn=e=>be(e).slice(8,-1),B=e=>be(e)==="[object Object]",no=e=>j(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Lu=It(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Du=It("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Un=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Nu=/-(\w)/g,Ie=Un(e=>e.replace(Nu,(t,n)=>n?n.toUpperCase():"")),Mu=/\B([A-Z])/g,tt=Un(e=>e.replace(Mu,"-$1").toLowerCase()),nt=Un(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ke=Un(e=>e?`on${nt(e)}`:""),jt=(e,t)=>!Object.is(e,t),mn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Uu=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ju=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Fu=`
`,qu="d",jn="onShow",Fn="onHide",Ci="onLaunch",ro="onError",Ei="onThemeChange",ki="onPageNotFound",$i="onUnhandledRejection",Tt="onLoad",oo="onReady",qn="onUnload",Ri="onInit",Li="onSaveExitState",Di="onResize",Ni="onBackPress",Mi="onPageScroll",so="onTabItemTap",io="onReachBottom",co="onPullDownRefresh",Ui="onShareTimeline",ao="onAddToFavorites",ji="onShareAppMessage",Fi="onNavigationBarButtonTap",qi="onNavigationBarSearchInputClicked",Hi="onNavigationBarSearchInputChanged",Bi="onNavigationBarSearchInputConfirmed",Ki="onNavigationBarSearchInputFocusChanged",Hu=/:/g;function Bu(e){return Ie(e.replace(Hu,"-"))}function Ku(e){return e.indexOf("/")===0}function Vu(e){return Ku(e)?e:"/"+e}const Wu=(e,t)=>{let n;for(let r=0;r<e.length;r++)n=e[r](t);return n};function Vi(e,t=null){let n;return(...r)=>(e&&(n=e.apply(t,r),e=null),n)}function Wi(e,t){if(!j(t))return;t=t.replace(/\[(\d+)\]/g,".$1");const n=t.split(".");let r=n[0];return e||(e={}),n.length===1?e[r]:Wi(e[r],n.slice(1).join("."))}function uo(e){let t={};return B(e)&&Object.keys(e).sort().forEach(n=>{const r=n;t[r]=e[r]}),Object.keys(t)?t:e}const zu=encodeURIComponent;function Ju(e,t=zu){const n=e?Object.keys(e).map(r=>{let o=e[r];return typeof o===void 0||o===null?o="":B(o)&&(o=JSON.stringify(o)),t(r)+"="+t(o)}).filter(r=>r.length>0).join("&"):null;return n?`?${n}`:""}const Gu=[Ri,Tt,jn,Fn,qn,Ni,Mi,so,io,co,Ui,ji,ao,Li,Fi,qi,Hi,Bi,Ki];function Yu(e){return Gu.indexOf(e)>-1}const zi=[jn,Fn,Ci,ro,Ei,ki,$i,Ri,Tt,oo,qn,Di,Ni,Mi,so,io,co,Ui,ao,ji,Li,Fi,qi,Hi,Bi,Ki],wr=(()=>({onPageScroll:1,onShareAppMessage:1<<1,onShareTimeline:1<<2}))();function Ji(e,t,n=!0){return n&&!P(t)?!1:zi.indexOf(e)>-1?!0:e.indexOf("on")===0}let Sr;const Gi=[];function Qu(e){if(Sr)return e(Sr);Gi.push(e)}function Xu(e){Sr=e,Gi.forEach(t=>t(e))}const Zu=Vi((e,t)=>{if(P(e._component.onError))return t(e)}),Yi=function(){};Yi.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;for(r;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var s=0,i=r.length;s<i;s++)r[s].fn!==t&&r[s].fn._!==t&&o.push(r[s]);return o.length?n[e]=o:delete n[e],this}};var el=Yi;const tl=e=>e!==null&&typeof e=="object",nl=["{","}"];class rl{constructor(){this._caches=Object.create(null)}interpolate(t,n,r=nl){if(!n)return[t];let o=this._caches[t];return o||(o=il(t,r),this._caches[t]=o),cl(o,n)}}const ol=/^(?:\d)+/,sl=/^(?:\w)+/;function il(e,[t,n]){const r=[];let o=0,s="";for(;o<e.length;){let i=e[o++];if(i===t){s&&r.push({type:"text",value:s}),s="";let c="";for(i=e[o++];i!==void 0&&i!==n;)c+=i,i=e[o++];const u=i===n,a=ol.test(c)?"list":u&&sl.test(c)?"named":"unknown";r.push({value:c,type:a})}else s+=i}return s&&r.push({type:"text",value:s}),r}function cl(e,t){const n=[];let r=0;const o=Array.isArray(t)?"list":tl(t)?"named":"unknown";if(o==="unknown")return n;for(;r<e.length;){const s=e[r];switch(s.type){case"text":n.push(s.value);break;case"list":n.push(t[parseInt(s.value,10)]);break;case"named":o==="named"?n.push(t[s.value]):console.warn(`Type of token '${s.type}' and format of value '${o}' don't match!`);break;case"unknown":console.warn("Detect 'unknown' type of token!");break}r++}return n}const Xn="zh-Hans",Vo="zh-Hant",Ne="en",al="fr",ul="es",ll=Object.prototype.hasOwnProperty,Wo=(e,t)=>ll.call(e,t),fl=new rl;function pl(e,t){return!!t.find(n=>e.indexOf(n)!==-1)}function dl(e,t){return t.find(n=>e.indexOf(n)===0)}function bn(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),e==="chinese")return Xn;if(e.indexOf("zh")===0)return e.indexOf("-hans")>-1?Xn:e.indexOf("-hant")>-1||pl(e,["-tw","-hk","-mo","-cht"])?Vo:Xn;let n=[Ne,al,ul];t&&Object.keys(t).length>0&&(n=Object.keys(t));const r=dl(e,n);if(r)return r}class hl{constructor({locale:t,fallbackLocale:n,messages:r,watcher:o,formater:s}){this.locale=Ne,this.fallbackLocale=Ne,this.message={},this.messages={},this.watchers=[],n&&(this.fallbackLocale=n),this.formater=s||fl,this.messages=r||{},this.setLocale(t||Ne),o&&this.watchLocale(o)}setLocale(t){const n=this.locale;this.locale=bn(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],n!==this.locale&&this.watchers.forEach(r=>{r(this.locale,n)})}getLocale(){return this.locale}watchLocale(t){const n=this.watchers.push(t)-1;return()=>{this.watchers.splice(n,1)}}add(t,n,r=!0){const o=this.messages[t];o?r?Object.assign(o,n):Object.keys(n).forEach(s=>{Wo(o,s)||(o[s]=n[s])}):this.messages[t]=n}f(t,n,r){return this.formater.interpolate(t,n,r).join("")}t(t,n,r){let o=this.message;return typeof n=="string"?(n=bn(n,this.messages),n&&(o=this.messages[n])):r=n,Wo(o,t)?this.formater.interpolate(o[t],r).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}}function gl(e,t){e.$watchLocale?e.$watchLocale(n=>{t.setLocale(n)}):e.$watch(()=>e.$locale,n=>{t.setLocale(n)})}function ml(){return typeof S<"u"&&S.getLocale?S.getLocale():typeof global<"u"&&global.getLocale?global.getLocale():Ne}function _l(e,t={},n,r){typeof e!="string"&&([e,t]=[t,e]),typeof e!="string"&&(e=ml()),typeof n!="string"&&(n=typeof __uniConfig<"u"&&__uniConfig.fallbackLocale||Ne);const o=new hl({locale:e,fallbackLocale:n,messages:t,watcher:r});let s=(i,c)=>{if(typeof getApp!="function")s=function(u,a){return o.t(u,a)};else{let u=!1;s=function(a,l){const f=getApp().$vm;return f&&(f.$locale,u||(u=!0,gl(f,o))),o.t(a,l)}}return s(i,c)};return{i18n:o,f(i,c,u){return o.f(i,c,u)},t(i,c){return s(i,c)},add(i,c,u=!0){return o.add(i,c,u)},watch(i){return o.watchLocale(i)},getLocale(){return o.getLocale()},setLocale(i){return o.setLocale(i)}}}function yl(){return wx.getSystemInfoSync()}function vl(e,t){console.warn(`${e}: ${t}`)}function zo(e,t,n,r){r||(r=vl);for(const o in n){const s=wl(o,t[o],n[o],!k(t,o));j(s)&&r(e,s)}}function bl(e,t,n,r){if(!n)return;if(!$(n))return zo(e,t[0]||Object.create(null),n,r);const o=n.length,s=t.length;for(let i=0;i<o;i++){const c=n[i],u=Object.create(null);s>i&&(u[c.name]=t[i]),zo(e,u,{[c.name]:c},r)}}function wl(e,t,n,r){B(n)||(n={type:n});const{type:o,required:s,validator:i}=n;if(s&&r)return'Missing required args: "'+e+'"';if(!(t==null&&!s)){if(o!=null){let c=!1;const u=$(o)?o:[o],a=[];for(let l=0;l<u.length&&!c;l++){const{valid:f,expectedType:d}=Il(t,u[l]);a.push(d||""),c=f}if(!c)return Tl(e,t,a)}if(i)return i(t)}}const Sl=It("String,Number,Boolean,Function,Symbol");function Il(e,t){let n;const r=Al(t);if(Sl(r)){const o=typeof e;n=o===r.toLowerCase(),!n&&o==="object"&&(n=e instanceof t)}else r==="Object"?n=U(e):r==="Array"?n=$(e):n=e instanceof t;return{valid:n,expectedType:r}}function Tl(e,t,n){let r=`Invalid args: type check failed for args "${e}". Expected ${n.map(nt).join(", ")}`;const o=n[0],s=Mn(t),i=Jo(t,o),c=Jo(t,s);return n.length===1&&Go(o)&&!Pl(o,s)&&(r+=` with value ${i}`),r+=`, got ${s} `,Go(s)&&(r+=`with value ${c}.`),r}function Al(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Jo(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function Go(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function Pl(...e){return e.some(t=>t.toLowerCase()==="boolean")}function Ol(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}let xl=1;const Ir={};function Cl(e,t,n,r=!1){return Ir[e]={name:t,keepAlive:r,callback:n},e}function Qi(e,t,n){if(typeof e=="number"){const r=Ir[e];if(r)return r.keepAlive||delete Ir[e],r.callback(t,n)}return t}const El="success",kl="fail",$l="complete";function Rl(e){const t={};for(const n in e){const r=e[n];P(r)&&(t[n]=Ol(r),delete e[n])}return t}function Ll(e,t){return!e||e.indexOf(":fail")===-1?t+":ok":t+e.substring(e.indexOf(":fail"))}function Dl(e,t={},{beforeAll:n,beforeSuccess:r}={}){B(t)||(t={});const{success:o,fail:s,complete:i}=Rl(t),c=P(o),u=P(s),a=P(i),l=xl++;return Cl(l,e,f=>{f=f||{},f.errMsg=Ll(f.errMsg,e),P(n)&&n(f),f.errMsg===e+":ok"?(P(r)&&r(f,t),c&&o(f)):u&&s(f),a&&i(f)}),l}const Nl="success",Ml="fail",Ul="complete",ht={},gt={};function jl(e,t){return function(n){return e(n,t)||n}}function Xi(e,t,n){let r=!1;for(let o=0;o<e.length;o++){const s=e[o];if(r)r=Promise.resolve(jl(s,n));else{const i=s(t,n);if(Yt(i)&&(r=Promise.resolve(i)),i===!1)return{then(){},catch(){}}}}return r||{then(o){return o(t)},catch(){}}}function Yo(e,t={}){return[Nl,Ml,Ul].forEach(n=>{const r=e[n];if(!$(r))return;const o=t[n];t[n]=function(i){Xi(r,i,t).then(c=>P(o)&&o(c)||c)}}),t}function wn(e,t){const n=[];$(ht.returnValue)&&n.push(...ht.returnValue);const r=gt[e];return r&&$(r.returnValue)&&n.push(...r.returnValue),n.forEach(o=>{t=o(t)||t}),t}function Qo(e){const t=Object.create(null);Object.keys(ht).forEach(r=>{r!=="returnValue"&&(t[r]=ht[r].slice())});const n=gt[e];return n&&Object.keys(n).forEach(r=>{r!=="returnValue"&&(t[r]=(t[r]||[]).concat(n[r]))}),t}function Sn(e,t,n,r){const o=Qo(e);return o&&Object.keys(o).length?$(o.invoke)?Xi(o.invoke,n).then(i=>t(Yo(Qo(e),i),...r)):t(Yo(o,n),...r):t(n,...r)}function Fl(e){return!!(B(e)&&[El,kl,$l].find(t=>P(e[t])))}function ql(e,t){return(n={},...r)=>Fl(n)?wn(e,Sn(e,t,n,r)):wn(e,new Promise((o,s)=>{Sn(e,t,M(n,{success:o,fail:s}),r)}))}function Hl(e,t){const n=e[0];if(!t||!B(t.formatArgs)&&B(n))return;const r=t.formatArgs,o=Object.keys(r);for(let s=0;s<o.length;s++){const i=o[s],c=r[i];if(P(c)){const u=c(e[0][i],n);if(j(u))return u}else k(n,i)||(n[i]=c)}}function Bl(e,t,n){return Qi(e,M(n||{},{errMsg:t+":ok"}))}function Xo(e,t,n,r){return Qi(e,M({errMsg:t+":fail"+(n?" "+n:"")},r))}function Zi(e,t,n,r){if(bl(e,t,n),r&&r.beforeInvoke){const s=r.beforeInvoke(t);if(j(s))return s}const o=Hl(t,r);if(o)return o}function Kl(e){return!e||j(e)?e:e.stack?(console.error(e.message+Fu+e.stack),e.message):e}function Vl(e,t,n,r){return o=>{const s=Dl(e,o,r),i=Zi(e,[o],n,r);return i?Xo(s,e,i):t(o,{resolve:c=>Bl(s,e,c),reject:(c,u)=>Xo(s,e,Kl(c),u)})}}function Wl(e,t,n,r){return(...o)=>{const s=Zi(e,o,n,r);if(s)throw new Error(s);return t.apply(null,o)}}function zl(e,t,n,r){return Vl(e,t,n,r)}function st(e,t,n,r){return Wl(e,t,n,r)}function Jl(e,t,n,r){return ql(e,zl(e,t,n,r))}const Gl="upx2px",Yl=[{name:"upx",type:[Number,String],required:!0}],Ql=1e-4,Xl=750;let ec=!1,Tr=0,tc=0;function Zl(){const{platform:e,pixelRatio:t,windowWidth:n}=yl();Tr=n,tc=t,ec=e==="ios"}const ef=st(Gl,(e,t)=>{if(Tr===0&&Zl(),e=Number(e),e===0)return 0;let n=t||Tr,r=e/Xl*n;return r<0&&(r=-r),r=Math.floor(r+Ql),r===0&&(tc===1||!ec?r=1:r=.5),e<0?-r:r},Yl),tf="addInterceptor",nf="removeInterceptor",nc=[{name:"method",type:[String,Object],required:!0}],rf=nc;function Zo(e,t){Object.keys(t).forEach(n=>{P(t[n])&&(e[n]=of(e[n],t[n]))})}function es(e,t){!e||!t||Object.keys(t).forEach(n=>{const r=e[n],o=t[n];$(r)&&P(o)&&Nn(r,o)})}function of(e,t){const n=t?e?e.concat(t):$(t)?t:[t]:e;return n&&sf(n)}function sf(e){const t=[];for(let n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t}const cf=st(tf,(e,t)=>{j(e)&&B(t)?Zo(gt[e]||(gt[e]={}),t):B(e)&&Zo(ht,e)},nc),af=st(nf,(e,t)=>{j(e)?B(t)?es(gt[e],t):delete gt[e]:B(e)&&es(ht,e)},rf),uf={},lf="$on",rc=[{name:"event",type:String,required:!0},{name:"callback",type:Function,required:!0}],ff="$once",pf=rc,df="$off",hf=[{name:"event",type:[String,Array]},{name:"callback",type:Function}],gf="$emit",mf=[{name:"event",type:String,required:!0}],rt=new el,_f=st(lf,(e,t)=>(rt.on(e,t),()=>rt.off(e,t)),rc),yf=st(ff,(e,t)=>(rt.once(e,t),()=>rt.off(e,t)),pf),vf=st(df,(e,t)=>{if(!e){rt.e={};return}$(e)||(e=[e]),e.forEach(n=>rt.off(n,t))},hf),bf=st(gf,(e,...t)=>{rt.emit(e,...t)},mf);let Lt,Ar,Pr;function ts(e){try{return JSON.parse(e)}catch{}return e}function wf(e){if(e.type==="enabled")Pr=!0;else if(e.type==="clientId")Lt=e.cid,Ar=e.errMsg,oc(Lt,e.errMsg);else if(e.type==="pushMsg"){const t={type:"receive",data:ts(e.message)};for(let n=0;n<Me.length;n++){const r=Me[n];if(r(t),t.stopped)break}}else e.type==="click"&&Me.forEach(t=>{t({type:"click",data:ts(e.message)})})}const Or=[];function oc(e,t){Or.forEach(n=>{n(e,t)}),Or.length=0}const Sf="getPushClientId",If=Jl(Sf,(e,{resolve:t,reject:n})=>{Promise.resolve().then(()=>{typeof Pr>"u"&&(Pr=!1,Lt="",Ar="uniPush is not enabled"),Or.push((r,o)=>{r?t({cid:r}):n(o)}),typeof Lt<"u"&&oc(Lt,Ar)})}),Me=[],Tf=e=>{Me.indexOf(e)===-1&&Me.push(e)},Af=e=>{if(!e)Me.length=0;else{const t=Me.indexOf(e);t>-1&&Me.splice(t,1)}},Pf=/^\$|getLocale|setLocale|sendNativeEvent|restoreGlobal|requireGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64|getDeviceInfo|getAppBaseInfo|getWindowInfo|getSystemSetting|getAppAuthorizeSetting/,Of=/^create|Manager$/,xf=["createBLEConnection"],Cf=["createBLEConnection"],Ef=/^on|^off/;function sc(e){return Of.test(e)&&xf.indexOf(e)===-1}function ic(e){return Pf.test(e)&&Cf.indexOf(e)===-1}function kf(e){return Ef.test(e)&&e!=="onPush"}function $f(e){return!(sc(e)||ic(e)||kf(e))}Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then(n=>t.resolve(e&&e()).then(()=>n),n=>t.resolve(e&&e()).then(()=>{throw n}))});function Zn(e,t){return!$f(e)||!P(t)?t:function(r={},...o){return P(r.success)||P(r.fail)||P(r.complete)?wn(e,Sn(e,t,r,o)):wn(e,new Promise((s,i)=>{Sn(e,t,M({},r,{success:s,fail:i}),o)}))}}const Rf=["success","fail","cancel","complete"];function Lf(e){function t(o,s,i){return function(c){return s(r(o,c,i))}}function n(o,s,i={},c={},u=!1){if(B(s)){const a=u===!0?s:{};P(i)&&(i=i(s,a)||{});for(const l in s)if(k(i,l)){let f=i[l];P(f)&&(f=f(s[l],s,a)),f?j(f)?a[f]=s[l]:B(f)&&(a[f.name?f.name:l]=f.value):console.warn(`微信小程序 ${o} 暂不支持 ${l}`)}else if(Rf.indexOf(l)!==-1){const f=s[l];P(f)&&(a[l]=t(o,f,c))}else!u&&!k(a,l)&&(a[l]=s[l]);return a}else P(s)&&(s=t(o,s,c));return s}function r(o,s,i,c=!1){return P(e.returnValue)&&(s=e.returnValue(o,s)),n(o,s,i,{},c)}return function(s,i){if(!k(e,s))return i;const c=e[s];return c?function(u,a){let l=c;P(c)&&(l=c(u)),u=n(s,u,l.args,l.returnValue);const f=[u];typeof a<"u"&&f.push(a);const d=wx[l.name||s].apply(wx,f);return ic(s)?r(s,d,l.returnValue,sc(s)):d}:function(){console.error(`微信小程序 暂不支持${s}`)}}}const In=()=>{const e=P(getApp)&&getApp({allowDefault:!0});return e&&e.$vm?e.$vm.$locale:bn(wx.getSystemInfoSync().language)||Ne},Df=e=>{const t=P(getApp)&&getApp();return t&&t.$vm.$locale!==e?(t.$vm.$locale=e,xr.forEach(r=>r({locale:e})),!0):!1},xr=[],Nf=e=>{xr.indexOf(e)===-1&&xr.push(e)};typeof global<"u"&&(global.getLocale=In);const ns="__DC_STAT_UUID";let ut;function cc(e=wx){return function(n,r){ut=ut||e.getStorageSync(ns),ut||(ut=Date.now()+""+Math.floor(Math.random()*1e7),wx.setStorage({key:ns,data:ut})),r.deviceId=ut}}function ac(e,t){if(e.safeArea){const n=e.safeArea;t.safeAreaInsets={top:n.top,left:n.left,right:e.windowWidth-n.right,bottom:e.screenHeight-n.bottom}}}function Mf(e,t){const{brand:n="",model:r="",system:o="",language:s="",theme:i,version:c,platform:u,fontSizeSetting:a,SDKVersion:l,pixelRatio:f,deviceOrientation:d}=e;let h="",_="";h=o.split(" ")[0]||"",_=o.split(" ")[1]||"";let g=c,p=uc(e,r),m=lc(n),v=pc(e),y=d,b=f,O=l;const C=s.replace(/_/g,"-"),N={appId:"__UNI__7420222",appName:"life-tools",appVersion:"1.0.0",appVersionCode:"100",appLanguage:fc(C),uniCompileVersion:"3.8.7",uniRuntimeVersion:"3.8.7",uniPlatform:"mp-weixin",deviceBrand:m,deviceModel:r,deviceType:p,devicePixelRatio:b,deviceOrientation:y,osName:h.toLocaleLowerCase(),osVersion:_,hostTheme:i,hostVersion:g,hostLanguage:C,hostName:v,hostSDKVersion:O,hostFontSizeSetting:a,windowTop:0,windowBottom:0,osLanguage:void 0,osTheme:void 0,ua:void 0,hostPackageName:void 0,browserName:void 0,browserVersion:void 0};M(t,N)}function uc(e,t){let n=e.deviceType||"phone";{const r={ipad:"pad",windows:"pc",mac:"pc"},o=Object.keys(r),s=t.toLocaleLowerCase();for(let i=0;i<o.length;i++){const c=o[i];if(s.indexOf(c)!==-1){n=r[c];break}}}return n}function lc(e){let t=e;return t&&(t=t.toLocaleLowerCase()),t}function fc(e){return In?In():e}function pc(e){const t="WeChat";let n=e.hostName||t;return e.environment?n=e.environment:e.host&&e.host.env&&(n=e.host.env),n}const dc={returnValue:(e,t)=>{ac(e,t),cc()(e,t),Mf(e,t)}},Uf=dc,jf={},Ff={args(e,t){let n=parseInt(e.current);if(isNaN(n))return;const r=e.urls;if(!$(r))return;const o=r.length;if(o)return n<0?n=0:n>=o&&(n=o-1),n>0?(t.current=r[n],t.urls=r.filter((s,i)=>i<n?s!==r[n]:!0)):t.current=r[0],{indicator:!1,loop:!1}}},qf={args(e,t){t.alertText=e.title}},Hf={returnValue:(e,t)=>{const{brand:n,model:r}=e;let o=uc(e,r),s=lc(n);cc()(e,t),t=uo(M(t,{deviceType:o,deviceBrand:s,deviceModel:r}))}},Bf={returnValue:(e,t)=>{const{version:n,language:r,SDKVersion:o,theme:s}=e;let i=pc(e),c=r.replace(/_/g,"-");t=uo(M(t,{hostVersion:n,hostLanguage:c,hostName:i,hostSDKVersion:o,hostTheme:s,appId:"__UNI__7420222",appName:"life-tools",appVersion:"1.0.0",appVersionCode:"100",appLanguage:fc(c)}))}},Kf={returnValue:(e,t)=>{ac(e,t),t=uo(M(t,{windowTop:0,windowBottom:0}))}},Vf={returnValue:function(e,t){const{locationReducedAccuracy:n}=e;t.locationAccuracy="unsupported",n===!0?t.locationAccuracy="reduced":n===!1&&(t.locationAccuracy="full")}},rs={$on:_f,$off:vf,$once:yf,$emit:bf,upx2px:ef,interceptors:uf,addInterceptor:cf,removeInterceptor:af,onCreateVueApp:Qu,invokeCreateVueAppHook:Xu,getLocale:In,setLocale:Df,onLocaleChange:Nf,getPushClientId:If,onPushMessage:Tf,offPushMessage:Af,invokePushCallback:wf};function Wf(e,t,n=wx){const r=Lf(t),o={get(s,i){return k(s,i)?s[i]:k(e,i)?Zn(i,e[i]):k(rs,i)?Zn(i,rs[i]):Zn(i,r(i,n[i]))}};return new Proxy({},o)}function zf(e){return function({service:n,success:r,fail:o,complete:s}){let i;e[n]?(i={errMsg:"getProvider:ok",service:n,provider:e[n]},P(r)&&r(i)):(i={errMsg:"getProvider:fail:服务["+n+"]不存在"},P(o)&&o(i)),P(s)&&s(i)}}const Jf=["qy","env","error","version","lanDebug","cloud","serviceMarket","router","worklet","__webpack_require_UNI_MP_PLUGIN__"],Gf=["lanDebug","router","worklet"],os=wx.getLaunchOptionsSync?wx.getLaunchOptionsSync():null;function Yf(e){return os&&os.scene===1154&&Gf.includes(e)?!1:Jf.indexOf(e)>-1||typeof wx[e]=="function"}function hc(){const e={};for(const t in wx)Yf(t)&&(e[t]=wx[t]);return typeof globalThis<"u"&&typeof requireMiniProgram>"u"&&(globalThis.wx=e),e}const Qf=["__route__","__wxExparserNodeId__","__wxWebviewId__"],Xf=zf({oauth:["weixin"],share:["weixin"],payment:["wxpay"],push:["weixin"]});function Zf(e){const t=Object.create(null);return Qf.forEach(n=>{t[n]=e[n]}),t}function ep(){const e=mt.createSelectorQuery(),t=e.in;return e.in=function(r){return t.call(this,Zf(r))},e}const mt=hc();let Tn=mt.getAppBaseInfo&&mt.getAppBaseInfo();Tn||(Tn=mt.getSystemInfoSync());const ss=Tn?Tn.host:null,tp=ss&&ss.env==="SAAASDK"?mt.miniapp.shareVideoMessage:mt.shareVideoMessage;var np=Object.freeze({__proto__:null,createSelectorQuery:ep,getProvider:Xf,shareVideoMessage:tp});const rp={args(e,t){e.compressedHeight&&!t.compressHeight&&(t.compressHeight=e.compressedHeight),e.compressedWidth&&!t.compressWidth&&(t.compressWidth=e.compressedWidth)}};var op=Object.freeze({__proto__:null,compressImage:rp,getAppAuthorizeSetting:Vf,getAppBaseInfo:Bf,getDeviceInfo:Hf,getSystemInfo:dc,getSystemInfoSync:Uf,getWindowInfo:Kf,previewImage:Ff,redirectTo:jf,showActionSheet:qf});const Dt=hc();var S=Wf(np,op,Dt);function Cr(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let fe;class gc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=fe,!t&&fe&&(this.index=(fe.scopes||(fe.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=fe;try{return fe=this,t()}finally{fe=n}}else Cr("cannot run an inactive effect scope.")}on(){fe=this}off(){fe=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function sp(e){return new gc(e)}function ip(e,t=fe){t&&t.active&&t.effects.push(e)}function cp(){return fe}const lo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},mc=e=>(e.w&Fe)>0,_c=e=>(e.n&Fe)>0,ap=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Fe},up=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];mc(o)&&!_c(o)?o.delete(e):t[n++]=o,o.w&=~Fe,o.n&=~Fe}t.length=n}},Er=new WeakMap;let kt=0,Fe=1;const kr=30;let Q;const Ye=Symbol("iterate"),$r=Symbol("Map key iterate");class fo{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ip(this,r)}run(){if(!this.active)return this.fn();let t=Q,n=Ue;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Q,Q=this,Ue=!0,Fe=1<<++kt,kt<=kr?ap(this):is(this),this.fn()}finally{kt<=kr&&up(this),Fe=1<<--kt,Q=this.parent,Ue=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Q===this?this.deferStop=!0:this.active&&(is(this),this.onStop&&this.onStop(),this.active=!1)}}function is(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ue=!0;const yc=[];function At(){yc.push(Ue),Ue=!1}function Pt(){const e=yc.pop();Ue=e===void 0?!0:e}function oe(e,t,n){if(Ue&&Q){let r=Er.get(e);r||Er.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=lo()),vc(o,{effect:Q,target:e,type:t,key:n})}}function vc(e,t){let n=!1;kt<=kr?_c(e)||(e.n|=Fe,n=!mc(e)):n=!e.has(Q),n&&(e.add(Q),Q.deps.push(e),Q.onTrack&&Q.onTrack(Object.assign({effect:Q},t)))}function Pe(e,t,n,r,o,s){const i=Er.get(e);if(!i)return;let c=[];if(t==="clear")c=[...i.values()];else if(n==="length"&&$(e)){const a=Number(r);i.forEach((l,f)=>{(f==="length"||f>=a)&&c.push(l)})}else switch(n!==void 0&&c.push(i.get(n)),t){case"add":$(e)?no(n)&&c.push(i.get("length")):(c.push(i.get(Ye)),Ge(e)&&c.push(i.get($r)));break;case"delete":$(e)||(c.push(i.get(Ye)),Ge(e)&&c.push(i.get($r)));break;case"set":Ge(e)&&c.push(i.get(Ye));break}const u={target:e,type:t,key:n,newValue:r,oldValue:o,oldTarget:s};if(c.length===1)c[0]&&Rr(c[0],u);else{const a=[];for(const l of c)l&&a.push(...l);Rr(lo(a),u)}}function Rr(e,t){const n=$(e)?e:[...e];for(const r of n)r.computed&&cs(r,t);for(const r of n)r.computed||cs(r,t)}function cs(e,t){(e!==Q||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(M({effect:e},t)),e.scheduler?e.scheduler():e.run())}const lp=It("__proto__,__v_isRef,__isVue"),bc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(to)),fp=Hn(),pp=Hn(!1,!0),dp=Hn(!0),hp=Hn(!0,!0),as=gp();function gp(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=R(this);for(let s=0,i=this.length;s<i;s++)oe(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(R)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){At();const r=R(this)[t].apply(this,n);return Pt(),r}}),e}function mp(e){const t=R(this);return oe(t,"has",e),t.hasOwnProperty(e)}function Hn(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?xc:Oc:t?Pc:Ac).get(r))return r;const i=$(r);if(!e){if(i&&k(as,o))return Reflect.get(as,o,s);if(o==="hasOwnProperty")return mp}const c=Reflect.get(r,o,s);return(to(o)?bc.has(o):lp(o))||(e||oe(r,"get",o),t)?c:z(c)?i&&no(o)?c:c.value:U(c)?e?Cc(c):Qt(c):c}}const _p=wc(),yp=wc(!0);function wc(e=!1){return function(n,r,o,s){let i=n[r];if(_t(i)&&z(i)&&!z(o))return!1;if(!e&&(!An(o)&&!_t(o)&&(i=R(i),o=R(o)),!$(n)&&z(i)&&!z(o)))return i.value=o,!0;const c=$(n)&&no(r)?Number(r)<n.length:k(n,r),u=Reflect.set(n,r,o,s);return n===R(s)&&(c?jt(o,i)&&Pe(n,"set",r,o,i):Pe(n,"add",r,o)),u}}function vp(e,t){const n=k(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&Pe(e,"delete",t,void 0,r),o}function bp(e,t){const n=Reflect.has(e,t);return(!to(t)||!bc.has(t))&&oe(e,"has",t),n}function wp(e){return oe(e,"iterate",$(e)?"length":Ye),Reflect.ownKeys(e)}const Sc={get:fp,set:_p,deleteProperty:vp,has:bp,ownKeys:wp},Ic={get:dp,set(e,t){return Cr(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return Cr(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Sp=M({},Sc,{get:pp,set:yp}),Ip=M({},Ic,{get:hp}),po=e=>e,Bn=e=>Reflect.getPrototypeOf(e);function nn(e,t,n=!1,r=!1){e=e.__v_raw;const o=R(e),s=R(t);n||(t!==s&&oe(o,"get",t),oe(o,"get",s));const{has:i}=Bn(o),c=r?po:n?go:Ft;if(i.call(o,t))return c(e.get(t));if(i.call(o,s))return c(e.get(s));e!==o&&e.get(t)}function rn(e,t=!1){const n=this.__v_raw,r=R(n),o=R(e);return t||(e!==o&&oe(r,"has",e),oe(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function on(e,t=!1){return e=e.__v_raw,!t&&oe(R(e),"iterate",Ye),Reflect.get(e,"size",e)}function us(e){e=R(e);const t=R(this);return Bn(t).has.call(t,e)||(t.add(e),Pe(t,"add",e,e)),this}function ls(e,t){t=R(t);const n=R(this),{has:r,get:o}=Bn(n);let s=r.call(n,e);s?Tc(n,r,e):(e=R(e),s=r.call(n,e));const i=o.call(n,e);return n.set(e,t),s?jt(t,i)&&Pe(n,"set",e,t,i):Pe(n,"add",e,t),this}function fs(e){const t=R(this),{has:n,get:r}=Bn(t);let o=n.call(t,e);o?Tc(t,n,e):(e=R(e),o=n.call(t,e));const s=r?r.call(t,e):void 0,i=t.delete(e);return o&&Pe(t,"delete",e,void 0,s),i}function ps(){const e=R(this),t=e.size!==0,n=Ge(e)?new Map(e):new Set(e),r=e.clear();return t&&Pe(e,"clear",void 0,void 0,n),r}function sn(e,t){return function(r,o){const s=this,i=s.__v_raw,c=R(i),u=t?po:e?go:Ft;return!e&&oe(c,"iterate",Ye),i.forEach((a,l)=>r.call(o,u(a),u(l),s))}}function cn(e,t,n){return function(...r){const o=this.__v_raw,s=R(o),i=Ge(s),c=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,a=o[e](...r),l=n?po:t?go:Ft;return!t&&oe(s,"iterate",u?$r:Ye),{next(){const{value:f,done:d}=a.next();return d?{value:f,done:d}:{value:c?[l(f[0]),l(f[1])]:l(f),done:d}},[Symbol.iterator](){return this}}}}function Ee(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${nt(e)} operation ${n}failed: target is readonly.`,R(this))}return e==="delete"?!1:this}}function Tp(){const e={get(s){return nn(this,s)},get size(){return on(this)},has:rn,add:us,set:ls,delete:fs,clear:ps,forEach:sn(!1,!1)},t={get(s){return nn(this,s,!1,!0)},get size(){return on(this)},has:rn,add:us,set:ls,delete:fs,clear:ps,forEach:sn(!1,!0)},n={get(s){return nn(this,s,!0)},get size(){return on(this,!0)},has(s){return rn.call(this,s,!0)},add:Ee("add"),set:Ee("set"),delete:Ee("delete"),clear:Ee("clear"),forEach:sn(!0,!1)},r={get(s){return nn(this,s,!0,!0)},get size(){return on(this,!0)},has(s){return rn.call(this,s,!0)},add:Ee("add"),set:Ee("set"),delete:Ee("delete"),clear:Ee("clear"),forEach:sn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=cn(s,!1,!1),n[s]=cn(s,!0,!1),t[s]=cn(s,!1,!0),r[s]=cn(s,!0,!0)}),[e,n,t,r]}const[Ap,Pp,Op,xp]=Tp();function Kn(e,t){const n=t?e?xp:Op:e?Pp:Ap;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(k(n,o)&&o in r?n:r,o,s)}const Cp={get:Kn(!1,!1)},Ep={get:Kn(!1,!0)},kp={get:Kn(!0,!1)},$p={get:Kn(!0,!0)};function Tc(e,t,n){const r=R(n);if(r!==n&&t.call(e,r)){const o=Mn(e);console.warn(`Reactive ${o} contains both the raw and reactive versions of the same object${o==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Ac=new WeakMap,Pc=new WeakMap,Oc=new WeakMap,xc=new WeakMap;function Rp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lp(e){return e.__v_skip||!Object.isExtensible(e)?0:Rp(Mn(e))}function Qt(e){return _t(e)?e:Vn(e,!1,Sc,Cp,Ac)}function Dp(e){return Vn(e,!1,Sp,Ep,Pc)}function Cc(e){return Vn(e,!0,Ic,kp,Oc)}function lt(e){return Vn(e,!0,Ip,$p,xc)}function Vn(e,t,n,r,o){if(!U(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const i=Lp(e);if(i===0)return e;const c=new Proxy(e,i===2?r:n);return o.set(e,c),c}function pt(e){return _t(e)?pt(e.__v_raw):!!(e&&e.__v_isReactive)}function _t(e){return!!(e&&e.__v_isReadonly)}function An(e){return!!(e&&e.__v_isShallow)}function Np(e){return pt(e)||_t(e)}function R(e){const t=e&&e.__v_raw;return t?R(t):e}function ho(e){return Uu(e,"__v_skip",!0),e}const Ft=e=>U(e)?Qt(e):e,go=e=>U(e)?Cc(e):e;function Ec(e){Ue&&Q&&(e=R(e),vc(e.dep||(e.dep=lo()),{target:e,type:"get",key:"value"}))}function kc(e,t){e=R(e);const n=e.dep;n&&Rr(n,{target:e,type:"set",key:"value",newValue:t})}function z(e){return!!(e&&e.__v_isRef===!0)}function $c(e){return Mp(e,!1)}function Mp(e,t){return z(e)?e:new Up(e,t)}class Up{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:R(t),this._value=n?t:Ft(t)}get value(){return Ec(this),this._value}set value(t){const n=this.__v_isShallow||An(t)||_t(t);t=n?t:R(t),jt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ft(t),kc(this,t))}}function Rc(e){return z(e)?e.value:e}const jp={get:(e,t,n)=>Rc(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return z(o)&&!z(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Lc(e){return pt(e)?e:new Proxy(e,jp)}var Dc;class Fp{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Dc]=!1,this._dirty=!0,this.effect=new fo(t,()=>{this._dirty||(this._dirty=!0,kc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=R(this);return Ec(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Dc="__v_isReadonly";function qp(e,t,n=!1){let r,o;const s=P(e);s?(r=e,o=()=>{console.warn("Write operation failed: computed value is readonly")}):(r=e.get,o=e.set);const i=new Fp(r,o,s||!o,n);return t&&!n&&(i.effect.onTrack=t.onTrack,i.effect.onTrigger=t.onTrigger),i}const Qe=[];function mo(e){Qe.push(e)}function _o(){Qe.pop()}function x(e,...t){At();const n=Qe.length?Qe[Qe.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=Hp();if(r)Ae(r,n,11,[e+t.join(""),n&&n.proxy,o.map(({vnode:s})=>`at <${Jn(n,s.type)}>`).join(`
`),o]);else{const s=[`[Vue warn]: ${e}`,...t];o.length&&s.push(`
`,...Bp(o)),console.warn(...s)}Pt()}function Hp(){let e=Qe[Qe.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function Bp(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...Kp(n))}),t}function Kp({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,o=` at <${Jn(e.component,e.type,r)}`,s=">"+n;return e.props?[o,...Vp(e.props),s]:[o+s]}function Vp(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...Nc(r,e[r]))}),n.length>3&&t.push(" ..."),t}function Nc(e,t,n){return j(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:z(t)?(t=Nc(e,R(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):P(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=R(t),n?t:[`${e}=`,t])}const yo={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function Ae(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){vo(s,t,n)}return o}function qe(e,t,n,r){if(P(e)){const s=Ae(e,t,n,r);return s&&Yt(s)&&s.catch(i=>{vo(i,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(qe(e[s],t,n,r));return o}function vo(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const i=t.proxy,c=yo[n]||n;for(;s;){const a=s.ec;if(a){for(let l=0;l<a.length;l++)if(a[l](e,i,c)===!1)return}s=s.parent}const u=t.appContext.config.errorHandler;if(u){Ae(u,null,10,[e,i,c]);return}}Wp(e,n,o,r)}function Wp(e,t,n,r=!0){{const o=yo[t]||t;n&&mo(n),x(`Unhandled error${o?` during execution of ${o}`:""}`),n&&_o(),console.error(e)}}let qt=!1,Lr=!1;const K=[];let ye=0;const dt=[];let _e=null,Re=0;const Mc=Promise.resolve();let bo=null;const zp=100;function Uc(e){const t=bo||Mc;return e?t.then(this?e.bind(this):e):t}function Jp(e){let t=ye+1,n=K.length;for(;t<n;){const r=t+n>>>1;Ht(K[r])<e?t=r+1:n=r}return t}function Pn(e){(!K.length||!K.includes(e,qt&&e.allowRecurse?ye+1:ye))&&(e.id==null?K.push(e):K.splice(Jp(e.id),0,e),jc())}function jc(){!qt&&!Lr&&(Lr=!0,bo=Mc.then(Hc))}function Gp(e){return K.indexOf(e)>-1}function Yp(e){const t=K.indexOf(e);t>ye&&K.splice(t,1)}function Fc(e){$(e)?dt.push(...e):(!_e||!_e.includes(e,e.allowRecurse?Re+1:Re))&&dt.push(e),jc()}function qc(e,t=qt?ye+1:0){for(e=e||new Map;t<K.length;t++){const n=K[t];if(n&&n.pre){if(wo(e,n))continue;K.splice(t,1),t--,n()}}}function Qp(e){if(dt.length){const t=[...new Set(dt)];if(dt.length=0,_e){_e.push(...t);return}for(_e=t,e=e||new Map,_e.sort((n,r)=>Ht(n)-Ht(r)),Re=0;Re<_e.length;Re++)wo(e,_e[Re])||_e[Re]();_e=null,Re=0}}const Ht=e=>e.id==null?1/0:e.id,Xp=(e,t)=>{const n=Ht(e)-Ht(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Hc(e){Lr=!1,qt=!0,e=e||new Map,K.sort(Xp);const t=n=>wo(e,n);try{for(ye=0;ye<K.length;ye++){const n=K[ye];if(n&&n.active!==!1){if(t(n))continue;Ae(n,null,14)}}}finally{ye=0,K.length=0,Qp(e),qt=!1,bo=null,(K.length||dt.length)&&Hc(e)}}function wo(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>zp){const r=t.ownerInstance,o=r&&Po(r.type);return x(`Maximum recursive updates exceeded${o?` in component <${o}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}let ve,$t=[],Dr=!1;function Wn(e,...t){ve?ve.emit(e,...t):Dr||$t.push({event:e,args:t})}function Bc(e,t){var n,r;ve=e,ve?(ve.enabled=!0,$t.forEach(({event:o,args:s})=>ve.emit(o,...s)),$t=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Bc(s,t)}),setTimeout(()=>{ve||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Dr=!0,$t=[])},3e3)):(Dr=!0,$t=[])}function Zp(e,t){Wn("app:init",e,t,{Fragment:Bd,Text:Kd,Comment:Vd,Static:Wd})}const ed=So("component:added"),td=So("component:updated"),nd=So("component:removed"),rd=e=>{ve&&typeof ve.cleanupBuffer=="function"&&!ve.cleanupBuffer(e)&&nd(e)};function So(e){return t=>{Wn(e,t.appContext.app,t.uid,t.uid===0?void 0:t.parent?t.parent.uid:0,t)}}const od=Kc("perf:start"),sd=Kc("perf:end");function Kc(e){return(t,n,r)=>{Wn(e,t.appContext.app,t.uid,t,n,r)}}function id(e,t,n){Wn("component:emit",e.appContext.app,e,t,n)}function cd(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||H;{const{emitsOptions:l,propsOptions:[f]}=e;if(l)if(!(t in l))(!f||!(Ke(t)in f))&&x(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${Ke(t)}" prop.`);else{const d=l[t];P(d)&&(d(...n)||x(`Invalid event arguments: event validation failed for event "${t}".`))}}let o=n;const s=t.startsWith("update:"),i=s&&t.slice(7);if(i&&i in r){const l=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:d}=r[l]||H;d&&(o=n.map(h=>j(h)?h.trim():h)),f&&(o=n.map(ju))}id(e,t,o);{const l=t.toLowerCase();l!==t&&r[Ke(l)]&&x(`Event "${l}" is emitted in component ${Jn(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${tt(t)}" instead of "${t}".`)}let c,u=r[c=Ke(t)]||r[c=Ke(Ie(t))];!u&&s&&(u=r[c=Ke(tt(t))]),u&&qe(u,e,6,o);const a=r[c+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,qe(a,e,6,o)}}function Vc(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let i={},c=!1;if(!P(e)){const u=a=>{const l=Vc(a,t,!0);l&&(c=!0,M(i,l))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!c?(U(e)&&r.set(e,null),null):($(s)?s.forEach(u=>i[u]=null):M(i,s),U(e)&&r.set(e,i),i)}function Wc(e,t){return!e||!Pi(t)?!1:(t=t.slice(2).replace(/Once$/,""),k(e,t[0].toLowerCase()+t.slice(1))||k(e,tt(t))||k(e,t))}let ot=null;function ds(e){const t=ot;return ot=e,e&&e.type.__scopeId,t}function ad(e,t){if(!F)x("provide() can only be used inside setup().");else{let n=F.provides;const r=F.parent&&F.parent.provides;r===n&&(n=F.provides=Object.create(r)),n[e]=t,F.type.mpType==="app"&&F.appContext.app.provide(e,t)}}function _n(e,t,n=!1){const r=F||ot;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&P(t)?t.call(r.proxy):t;x(`injection "${String(e)}" not found.`)}else x("inject() can only be used inside setup() or functional components.")}const an={};function Nt(e,t,n){return P(t)||x("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),zc(e,t,n)}function zc(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:i}=H){t||(n!==void 0&&x('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&x('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const c=y=>{x("Invalid watch source: ",y,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=cp()===(F==null?void 0:F.scope)?F:null;let a,l=!1,f=!1;if(z(e)?(a=()=>e.value,l=An(e)):pt(e)?(a=()=>e,r=!0):$(e)?(f=!0,l=e.some(y=>pt(y)||An(y)),a=()=>e.map(y=>{if(z(y))return y.value;if(pt(y))return ft(y);if(P(y))return Ae(y,u,2);c(y)})):P(e)?t?a=()=>Ae(e,u,2):a=()=>{if(!(u&&u.isUnmounted))return d&&d(),qe(e,u,3,[h])}:(a=G,c(e)),t&&r){const y=a;a=()=>ft(y())}let d,h=y=>{d=m.onStop=()=>{Ae(y,u,4)}},_=f?new Array(e.length).fill(an):an;const g=()=>{if(m.active)if(t){const y=m.run();(r||l||(f?y.some((b,O)=>jt(b,_[O])):jt(y,_)))&&(d&&d(),qe(t,u,3,[y,_===an?void 0:f&&_[0]===an?[]:_,h]),_=y)}else m.run()};g.allowRecurse=!!t;let p;o==="sync"?p=g:o==="post"?p=()=>Ss(g,u&&u.suspense):(g.pre=!0,u&&(g.id=u.uid),p=()=>Pn(g));const m=new fo(a,p);return m.onTrack=s,m.onTrigger=i,t?n?g():_=m.run():o==="post"?Ss(m.run.bind(m),u&&u.suspense):m.run(),()=>{m.stop(),u&&u.scope&&Nn(u.scope.effects,m)}}function ud(e,t,n){const r=this.proxy,o=j(e)?e.includes(".")?Jc(r,e):()=>r[e]:e.bind(r,r);let s;P(t)?s=t:(s=t.handler,n=t);const i=F;yt(this);const c=zc(o,s.bind(r),n);return i?yt(i):Xe(),c}function Jc(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function ft(e,t){if(!U(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),z(e))ft(e.value,t);else if($(e))for(let n=0;n<e.length;n++)ft(e[n],t);else if(Oi(e)||Ge(e))e.forEach(n=>{ft(n,t)});else if(B(e))for(const n in e)ft(e[n],t);return e}const ld=e=>e.type.__isKeepAlive;function fd(e,t){Gc(e,"a",t)}function pd(e,t){Gc(e,"da",t)}function Gc(e,t,n=F){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ot(t,r,n),n){let o=n.parent;for(;o&&o.parent;)ld(o.parent.vnode)&&dd(r,t,n,o),o=o.parent}}function dd(e,t,n,r){const o=Ot(t,e,r,!0);Yc(()=>{Nn(r[t],o)},n)}function Ot(e,t,n=F,r=!1){if(n){Yu(e)&&(n=n.root);const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;At(),yt(n);const c=qe(t,n,e,i);return Xe(),Pt(),c});return r?o.unshift(s):o.push(s),s}else{const o=Ke((yo[e]||e.replace(/^on/,"")).replace(/ hook$/,""));x(`${o} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().`)}}const Oe=e=>(t,n=F)=>(!Kt||e==="sp")&&Ot(e,(...r)=>t(...r),n),hd=Oe("bm"),gd=Oe("m"),md=Oe("bu"),_d=Oe("u"),Io=Oe("bum"),Yc=Oe("um"),yd=Oe("sp"),vd=Oe("rtg"),bd=Oe("rtc");function wd(e,t=F){Ot("ec",e,t)}function Qc(e){Du(e)&&x("Do not use built-in directive ids as custom directive id: "+e)}const Nr="components";function Sd(e,t){return Id(Nr,e,!0,t)||e}function Id(e,t,n=!0,r=!1){const o=ot||F;if(o){const s=o.type;if(e===Nr){const c=Po(s,!1);if(c&&(c===t||c===Ie(t)||c===nt(Ie(t))))return s}const i=hs(o[e]||s[e],t)||hs(o.appContext[e],t);if(!i&&r)return s;if(n&&!i){const c=e===Nr?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";x(`Failed to resolve ${e.slice(0,-1)}: ${t}${c}`)}return i}else x(`resolve${nt(e.slice(0,-1))} can only be used in render() or setup().`)}function hs(e,t){return e&&(e[t]||e[Ie(t)]||e[nt(Ie(t))])}const Mr=e=>e?sa(e)?zn(e)||e.proxy:Mr(e.parent):null,Bt=M(Object.create(null),{$:e=>e,$el:e=>e.__$el||(e.__$el={}),$data:e=>e.data,$props:e=>lt(e.props),$attrs:e=>lt(e.attrs),$slots:e=>lt(e.slots),$refs:e=>lt(e.refs),$parent:e=>Mr(e.parent),$root:e=>Mr(e.root),$emit:e=>e.emit,$options:e=>ea(e),$forceUpdate:e=>e.f||(e.f=()=>Pn(e.update)),$watch:e=>ud.bind(e)}),To=e=>e==="_"||e==="$",er=(e,t)=>e!==H&&!e.__isScriptSetup&&k(e,t),Xc={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:i,type:c,appContext:u}=e;if(t==="__isVue")return!0;let a;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(er(r,t))return i[t]=1,r[t];if(o!==H&&k(o,t))return i[t]=2,o[t];if((a=e.propsOptions[0])&&k(a,t))return i[t]=3,s[t];if(n!==H&&k(n,t))return i[t]=4,n[t];Ur&&(i[t]=0)}}const l=Bt[t];let f,d;if(l)return t==="$attrs"&&oe(e,"get",t),l(e);if((f=c.__cssModules)&&(f=f[t]))return f;if(n!==H&&k(n,t))return i[t]=4,n[t];if(d=u.config.globalProperties,k(d,t))return d[t];ot&&(!j(t)||t.indexOf("__v")!==0)&&(o!==H&&To(t[0])&&k(o,t)?x(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===ot&&x(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return er(o,t)?(o[t]=n,!0):o.__isScriptSetup&&k(o,t)?(x(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):r!==H&&k(r,t)?(r[t]=n,!0):k(e.props,t)?(x(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(x(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(s,t,{enumerable:!0,configurable:!0,value:n}):s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},i){let c;return!!n[i]||e!==H&&k(e,i)||er(t,i)||(c=s[0])&&k(c,i)||k(r,i)||k(Bt,i)||k(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:k(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};Xc.ownKeys=e=>(x("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function Td(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(Bt).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>Bt[n](e),set:G})}),t}function Ad(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(r=>{Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>e.props[r],set:G})})}function Pd(e){const{ctx:t,setupState:n}=e;Object.keys(R(n)).forEach(r=>{if(!n.__isScriptSetup){if(To(r[0])){x(`setup() return property ${JSON.stringify(r)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>n[r],set:G})}})}function Od(){const e=Object.create(null);return(t,n)=>{e[n]?x(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let Ur=!0;function xd(e){const t=ea(e),n=e.proxy,r=e.ctx;Ur=!1,t.beforeCreate&&gs(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:i,watch:c,provide:u,inject:a,created:l,beforeMount:f,mounted:d,beforeUpdate:h,updated:_,activated:g,deactivated:p,beforeDestroy:m,beforeUnmount:v,destroyed:y,unmounted:b,render:O,renderTracked:C,renderTriggered:N,errorCaptured:q,serverPrefetch:ie,expose:he,inheritAttrs:ge,components:Ce,directives:Te,filters:xt}=t,me=Od();{const[L]=e.propsOptions;if(L)for(const D in L)me("Props",D)}if(a&&Cd(a,r,me,e.appContext.config.unwrapInjectedRef),i)for(const L in i){const D=i[L];P(D)?(Object.defineProperty(r,L,{value:D.bind(n),configurable:!0,enumerable:!0,writable:!0}),me("Methods",L)):x(`Method "${L}" has type "${typeof D}" in the component definition. Did you reference the function correctly?`)}if(o){P(o)||x("The data option must be a function. Plain object usage is no longer supported.");const L=o.call(n,n);if(Yt(L)&&x("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!U(L))x("data() should return an object.");else{e.data=Qt(L);for(const D in L)me("Data",D),To(D[0])||Object.defineProperty(r,D,{configurable:!0,enumerable:!0,get:()=>L[D],set:G})}}if(Ur=!0,s)for(const L in s){const D=s[L],ue=P(D)?D.bind(n,n):P(D.get)?D.get.bind(n,n):G;ue===G&&x(`Computed property "${L}" has no getter.`);const at=!P(D)&&P(D.set)?D.set.bind(n):()=>{x(`Write operation failed: computed property "${L}" is readonly.`)},w=ca({get:ue,set:at});Object.defineProperty(r,L,{enumerable:!0,configurable:!0,get:()=>w.value,set:A=>w.value=A}),me("Computed",L)}if(c)for(const L in c)Zc(c[L],r,n,L);if(u){const L=P(u)?u.call(n):u;Reflect.ownKeys(L).forEach(D=>{ad(D,L[D])})}l&&gs(l,e,"c");function V(L,D){$(D)?D.forEach(ue=>L(ue.bind(n))):D&&L(D.bind(n))}if(V(hd,f),V(gd,d),V(md,h),V(_d,_),V(fd,g),V(pd,p),V(wd,q),V(bd,C),V(vd,N),V(Io,v),V(Yc,b),V(yd,ie),$(he))if(he.length){const L=e.exposed||(e.exposed={});he.forEach(D=>{Object.defineProperty(L,D,{get:()=>n[D],set:ue=>n[D]=ue})})}else e.exposed||(e.exposed={});O&&e.render===G&&(e.render=O),ge!=null&&(e.inheritAttrs=ge),Ce&&(e.components=Ce),Te&&(e.directives=Te),e.ctx.$onApplyOptions&&e.ctx.$onApplyOptions(t,e,n)}function Cd(e,t,n=G,r=!1){$(e)&&(e=jr(e));for(const o in e){const s=e[o];let i;U(s)?"default"in s?i=_n(s.from||o,s.default,!0):i=_n(s.from||o):i=_n(s),z(i)?r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:c=>i.value=c}):(x(`injected property "${o}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),t[o]=i):t[o]=i,n("Inject",o)}}function gs(e,t,n){qe($(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Zc(e,t,n,r){const o=r.includes(".")?Jc(n,r):()=>n[r];if(j(e)){const s=t[e];P(s)?Nt(o,s):x(`Invalid watch handler specified by key "${e}"`,s)}else if(P(e))Nt(o,e.bind(n));else if(U(e))if($(e))e.forEach(s=>Zc(s,t,n,r));else{const s=P(e.handler)?e.handler.bind(n):t[e.handler];P(s)?Nt(o,s,e):x(`Invalid watch handler specified by key "${e.handler}"`,s)}else x(`Invalid watch option: "${r}"`,e)}function ea(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,c=s.get(t);let u;return c?u=c:!o.length&&!n&&!r?u=t:(u={},o.length&&o.forEach(a=>On(u,a,i,!0)),On(u,t,i)),U(t)&&s.set(t,u),u}function On(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&On(e,s,n,!0),o&&o.forEach(i=>On(e,i,n,!0));for(const i in t)if(r&&i==="expose")x('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const c=Ed[i]||n&&n[i];e[i]=c?c(e[i],t[i]):t[i]}return e}const Ed={data:ms,props:Ve,emits:Ve,methods:Ve,computed:Ve,beforeCreate:Y,created:Y,beforeMount:Y,mounted:Y,beforeUpdate:Y,updated:Y,beforeDestroy:Y,beforeUnmount:Y,destroyed:Y,unmounted:Y,activated:Y,deactivated:Y,errorCaptured:Y,serverPrefetch:Y,components:Ve,directives:Ve,watch:$d,provide:ms,inject:kd};function ms(e,t){return t?e?function(){return M(P(e)?e.call(this,this):e,P(t)?t.call(this,this):t)}:t:e}function kd(e,t){return Ve(jr(e),jr(t))}function jr(e){if($(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Y(e,t){return e?[...new Set([].concat(e,t))]:t}function Ve(e,t){return e?M(M(Object.create(null),e),t):t}function $d(e,t){if(!e)return t;if(!t)return e;const n=M(Object.create(null),e);for(const r in t)n[r]=Y(e[r],t[r]);return n}function Rd(e,t,n,r=!1){const o={},s={};e.propsDefaults=Object.create(null),ta(e,t,o,s);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);ra(t||{},o,e),n?e.props=r?o:Dp(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function Ld(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function Dd(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:i}}=e,c=R(o),[u]=e.propsOptions;let a=!1;if(!Ld(e)&&(r||i>0)&&!(i&16)){if(i&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let d=l[f];if(Wc(e.emitsOptions,d))continue;const h=t[d];if(u)if(k(s,d))h!==s[d]&&(s[d]=h,a=!0);else{const _=Ie(d);o[_]=Fr(u,c,_,h,e,!1)}else h!==s[d]&&(s[d]=h,a=!0)}}}else{ta(e,t,o,s)&&(a=!0);let l;for(const f in c)(!t||!k(t,f)&&((l=tt(f))===f||!k(t,l)))&&(u?n&&(n[f]!==void 0||n[l]!==void 0)&&(o[f]=Fr(u,c,f,void 0,e,!0)):delete o[f]);if(s!==c)for(const f in s)(!t||!k(t,f))&&(delete s[f],a=!0)}a&&Pe(e,"set","$attrs"),ra(t||{},o,e)}function ta(e,t,n,r){const[o,s]=e.propsOptions;let i=!1,c;if(t)for(let u in t){if(Lu(u))continue;const a=t[u];let l;o&&k(o,l=Ie(u))?!s||!s.includes(l)?n[l]=a:(c||(c={}))[l]=a:Wc(e.emitsOptions,u)||(!(u in r)||a!==r[u])&&(r[u]=a,i=!0)}if(s){const u=R(n),a=c||H;for(let l=0;l<s.length;l++){const f=s[l];n[f]=Fr(o,u,f,a[f],e,!k(a,f))}}return i}function Fr(e,t,n,r,o,s){const i=e[n];if(i!=null){const c=k(i,"default");if(c&&r===void 0){const u=i.default;if(i.type!==Function&&P(u)){const{propsDefaults:a}=o;n in a?r=a[n]:(yt(o),r=a[n]=u.call(null,t),Xe())}else r=u}i[0]&&(s&&!c?r=!1:i[1]&&(r===""||r===tt(n))&&(r=!0))}return r}function na(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,i={},c=[];let u=!1;if(!P(e)){const l=f=>{u=!0;const[d,h]=na(f,t,!0);M(i,d),h&&c.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!s&&!u)return U(e)&&r.set(e,Bo),Bo;if($(s))for(let l=0;l<s.length;l++){j(s[l])||x("props must be strings when using array syntax.",s[l]);const f=Ie(s[l]);_s(f)&&(i[f]=H)}else if(s){U(s)||x("invalid props options",s);for(const l in s){const f=Ie(l);if(_s(f)){const d=s[l],h=i[f]=$(d)||P(d)?{type:d}:Object.assign({},d);if(h){const _=vs(Boolean,h.type),g=vs(String,h.type);h[0]=_>-1,h[1]=g<0||_<g,(_>-1||k(h,"default"))&&c.push(f)}}}}const a=[i,c];return U(e)&&r.set(e,a),a}function _s(e){return e[0]!=="$"?!0:(x(`Invalid prop name: "${e}" is a reserved property.`),!1)}function qr(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function ys(e,t){return qr(e)===qr(t)}function vs(e,t){return $(t)?t.findIndex(n=>ys(n,e)):P(t)&&ys(t,e)?0:-1}function ra(e,t,n){const r=R(t),o=n.propsOptions[0];for(const s in o){let i=o[s];i!=null&&Nd(s,r[s],i,!k(e,s)&&!k(e,tt(s)))}}function Nd(e,t,n,r){const{type:o,required:s,validator:i}=n;if(s&&r){x('Missing required prop: "'+e+'"');return}if(!(t==null&&!n.required)){if(o!=null&&o!==!0){let c=!1;const u=$(o)?o:[o],a=[];for(let l=0;l<u.length&&!c;l++){const{valid:f,expectedType:d}=Ud(t,u[l]);a.push(d||""),c=f}if(!c){x(jd(e,t,a));return}}i&&!i(t)&&x('Invalid prop: custom validator check failed for prop "'+e+'".')}}const Md=It("String,Number,Boolean,Function,Symbol,BigInt");function Ud(e,t){let n;const r=qr(t);if(Md(r)){const o=typeof e;n=o===r.toLowerCase(),!n&&o==="object"&&(n=e instanceof t)}else r==="Object"?n=U(e):r==="Array"?n=$(e):r==="null"?n=e===null:n=e instanceof t;return{valid:n,expectedType:r}}function jd(e,t,n){let r=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(nt).join(" | ")}`;const o=n[0],s=Mn(t),i=bs(t,o),c=bs(t,s);return n.length===1&&ws(o)&&!Fd(o,s)&&(r+=` with value ${i}`),r+=`, got ${s} `,ws(s)&&(r+=`with value ${c}.`),r}function bs(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function ws(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function Fd(...e){return e.some(t=>t.toLowerCase()==="boolean")}function oa(){return{app:null,config:{isNativeTag:Ai,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qd=0;function Hd(e,t){return function(r,o=null){P(r)||(r=Object.assign({},r)),o!=null&&!U(o)&&(x("root props passed to app.mount() must be an object."),o=null);const s=oa(),i=new Set,c=s.app={_uid:qd++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:aa,get config(){return s.config},set config(u){x("app.config cannot be replaced. Modify individual options instead.")},use(u,...a){return i.has(u)?x("Plugin has already been applied to target app."):u&&P(u.install)?(i.add(u),u.install(c,...a)):P(u)?(i.add(u),u(c,...a)):x('A plugin must either be a function or an object with an "install" function.'),c},mixin(u){return s.mixins.includes(u)?x("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):s.mixins.push(u),c},component(u,a){return Hr(u,s.config),a?(s.components[u]&&x(`Component "${u}" has already been registered in target app.`),s.components[u]=a,c):s.components[u]},directive(u,a){return Qc(u),a?(s.directives[u]&&x(`Directive "${u}" has already been registered in target app.`),s.directives[u]=a,c):s.directives[u]},mount(){},unmount(){},provide(u,a){return u in s.provides&&x(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),s.provides[u]=a,c}};return c}}let Ct,Le;function xn(e,t){e.appContext.config.performance&&En()&&Le.mark(`vue-${t}-${e.uid}`),od(e,t,En()?Le.now():Date.now())}function Cn(e,t){if(e.appContext.config.performance&&En()){const n=`vue-${t}-${e.uid}`,r=n+":end";Le.mark(r),Le.measure(`<${Jn(e,e.type)}> ${t}`,n,r),Le.clearMarks(n),Le.clearMarks(r)}sd(e,t,En()?Le.now():Date.now())}function En(){return Ct!==void 0||(typeof window<"u"&&window.performance?(Ct=!0,Le=window.performance):Ct=!1),Ct}const Ss=Fc,Bd=Symbol("Fragment"),Kd=Symbol("Text"),Vd=Symbol("Comment"),Wd=Symbol("Static");function zd(e){return e?e.__v_isVNode===!0:!1}const Jd="__vInternal";function Gd(e){return e?Np(e)||Jd in e?M({},e):e:null}const Yd=oa();let Qd=0;function Xd(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||Yd,s={uid:Qd++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new gc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:na(r,o),emitsOptions:Vc(r,o),emit:null,emitted:null,propsDefaults:H,inheritAttrs:r.inheritAttrs,ctx:H,data:H,props:H,attrs:H,slots:H,refs:H,setupState:H,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx=Td(s),s.root=t?t.root:s,s.emit=cd.bind(null,s),e.ce&&e.ce(s),s}let F=null;const Ao=()=>F||ot,yt=e=>{F=e,e.scope.on()},Xe=()=>{F&&F.scope.off(),F=null},Zd=It("slot,component");function Hr(e,t){const n=t.isNativeTag||Ai;(Zd(e)||n(e))&&x("Do not use built-in or reserved HTML elements as component id: "+e)}function sa(e){return e.vnode.shapeFlag&4}let Kt=!1;function eh(e,t=!1){Kt=t;const{props:n}=e.vnode,r=sa(e);Rd(e,n,r,t);const o=r?th(e,t):void 0;return Kt=!1,o}function th(e,t){const n=e.type;{if(n.name&&Hr(n.name,e.appContext.config),n.components){const o=Object.keys(n.components);for(let s=0;s<o.length;s++)Hr(o[s],e.appContext.config)}if(n.directives){const o=Object.keys(n.directives);for(let s=0;s<o.length;s++)Qc(o[s])}n.compilerOptions&&oh()&&x('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=ho(new Proxy(e.ctx,Xc)),Ad(e);const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?ih(e):null;yt(e),At();const s=Ae(r,e,0,[lt(e.props),o]);Pt(),Xe(),Yt(s)?(s.then(Xe,Xe),x("setup() returned a Promise, but the version of Vue you are using does not support it yet.")):nh(e,s,t)}else ia(e,t)}function nh(e,t,n){P(t)?e.render=t:U(t)?(zd(t)&&x("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=Lc(t),Pd(e)):t!==void 0&&x(`setup() should return an object. Received: ${t===null?"null":typeof t}`),ia(e,n)}let rh;const oh=()=>!rh;function ia(e,t,n){const r=e.type;e.render||(e.render=r.render||G),yt(e),At(),xd(e),Pt(),Xe(),!r.render&&e.render===G&&!t&&(r.template?x('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):x("Component is missing template or render function."))}function sh(e){return new Proxy(e.attrs,{get(t,n){return oe(e,"get","$attrs"),t[n]},set(){return x("setupContext.attrs is readonly."),!1},deleteProperty(){return x("setupContext.attrs is readonly."),!1}})}function ih(e){const t=r=>{if(e.exposed&&x("expose() should be called only once per setup()."),r!=null){let o=typeof r;o==="object"&&($(r)?o="array":z(r)&&(o="ref")),o!=="object"&&x(`expose() should be passed a plain object, received ${o}.`)}e.exposed=r||{}};let n;return Object.freeze({get attrs(){return n||(n=sh(e))},get slots(){return lt(e.slots)},get emit(){return(r,...o)=>e.emit(r,...o)},expose:t})}function zn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Lc(ho(e.exposed)),{get(t,n){return n in t?t[n]:e.proxy[n]},has(t,n){return n in t||n in Bt}}))}const ch=/(?:^|[-_])(\w)/g,ah=e=>e.replace(ch,t=>t.toUpperCase()).replace(/[-_]/g,"");function Po(e,t=!0){return P(e)?e.displayName||e.name:e.name||t&&e.__name}function Jn(e,t,n=!1){let r=Po(t);if(!r&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&e&&e.parent){const o=s=>{for(const i in s)if(s[i]===t)return i};r=o(e.components||e.parent.type.components)||o(e.appContext.components)}return r?ah(r):n?"App":"Anonymous"}const ca=(e,t)=>qp(e,t,Kt),aa="3.2.47";function kn(e){return Rc(e)}const We="[object Array]",ze="[object Object]";function ua(e,t){const n={};return Br(e,t),yn(e,t,"",n),n}function Br(e,t){if(e=kn(e),e===t)return;const n=be(e),r=be(t);if(n==ze&&r==ze)for(let o in t){const s=e[o];s===void 0?e[o]=null:Br(s,t[o])}else n==We&&r==We&&e.length>=t.length&&t.forEach((o,s)=>{Br(e[s],o)})}function yn(e,t,n,r){if(e=kn(e),e===t)return;const o=be(e),s=be(t);if(o==ze)if(s!=ze||Object.keys(e).length<Object.keys(t).length)ke(r,n,e);else for(let i in e){const c=kn(e[i]),u=t[i],a=be(c),l=be(u);if(a!=We&&a!=ze)c!=u&&ke(r,(n==""?"":n+".")+i,c);else if(a==We)l!=We||c.length<u.length?ke(r,(n==""?"":n+".")+i,c):c.forEach((f,d)=>{yn(f,u[d],(n==""?"":n+".")+i+"["+d+"]",r)});else if(a==ze)if(l!=ze||Object.keys(c).length<Object.keys(u).length)ke(r,(n==""?"":n+".")+i,c);else for(let f in c)yn(c[f],u[f],(n==""?"":n+".")+i+"."+f,r)}else o==We?s!=We||e.length<t.length?ke(r,n,e):e.forEach((i,c)=>{yn(i,t[c],n+"["+c+"]",r)}):ke(r,n,e)}function ke(e,t,n){e[t]=n}function uh(e){return K.includes(e.update)}function Is(e){const n=e.ctx.__next_tick_callbacks;if(n&&n.length){const r=n.slice(0);n.length=0;for(let o=0;o<r.length;o++)r[o]()}}function la(e,t){const n=e.ctx;if(!n.__next_tick_pending&&!uh(e))return Uc(t&&t.bind(e.proxy));let r;return n.__next_tick_callbacks||(n.__next_tick_callbacks=[]),n.__next_tick_callbacks.push(()=>{t?Ae(t.bind(e.proxy),e,14):r&&r(e.proxy)}),new Promise(o=>{r=o})}function Kr(e,t){e=kn(e);const n=typeof e;if(n==="object"&&e!==null){let r=t.get(e);if(typeof r<"u")return r;if($(e)){const o=e.length;r=new Array(o),t.set(e,r);for(let s=0;s<o;s++)r[s]=Kr(e[s],t)}else{r={},t.set(e,r);for(const o in e)k(e,o)&&(r[o]=Kr(e[o],t))}return r}if(n!=="symbol")return e}function lh(e){return Kr(e,typeof WeakMap<"u"?new WeakMap:new Map)}function fh(e,t){const n=e.data,r=Object.create(null);return t.forEach(o=>{r[o]=n[o]}),r}function Ts(e,t,n){if(!t)return;t=lh(t);const r=e.ctx,o=r.mpType;if(o==="page"||o==="component"){t.r0=1;const s=r.$scope,i=Object.keys(t),c=ua(t,n||fh(s,i));Object.keys(c).length?(r.__next_tick_pending=!0,s.setData(c,()=>{r.__next_tick_pending=!1,Is(e)}),qc()):Is(e)}}function ph(e){e.globalProperties.$nextTick=function(n){return la(this.$,n)}}function dh(e,t,n){t.appContext.config.globalProperties.$applyOptions(e,t,n);const r=e.computed;if(r){const o=Object.keys(r);if(o.length){const s=t.ctx;s.$computedKeys||(s.$computedKeys=[]),s.$computedKeys.push(...o)}}delete t.ctx.$onApplyOptions}function fa(e,t=!1){const{setupState:n,$templateRefs:r,ctx:{$scope:o,$mpPlatform:s}}=e;if(s==="mp-alipay"||!r||!o)return;if(t)return r.forEach(a=>As(a,null,n));const i=s==="mp-baidu"||s==="mp-toutiao",c=a=>{const l=(o.selectAllComponents(".r")||[]).concat(o.selectAllComponents(".r-i-f")||[]);return a.filter(f=>{const d=gh(l,f.i);return i&&d===null?!0:(As(f,d,n),!1)})},u=()=>{const a=c(r);a.length&&e.proxy&&e.proxy.$scope&&e.proxy.$scope.setData({r1:1},()=>{c(a)})};o._$setRef?o._$setRef(u):la(e,u)}function hh(e){return U(e)&&ho(e),e}function gh(e,t){const n=e.find(r=>r&&(r.properties||r.props).uI===t);if(n){const r=n.$vm;return r?zn(r.$)||r:hh(n)}return null}function As({r:e,f:t},n,r){if(P(e))e(n,{});else{const o=j(e),s=z(e);if(o||s)if(t){if(!s)return;$(e.value)||(e.value=[]);const i=e.value;if(i.indexOf(n)===-1){if(i.push(n),!n)return;Io(()=>Nn(i,n),n.$)}}else o?k(r,e)&&(r[e]=n):z(e)?e.value=n:Ps(e);else Ps(e)}}function Ps(e){x("Invalid template ref type:",e,`(${typeof e})`)}var Vr;(function(e){e.APP="app",e.PAGE="page",e.COMPONENT="component"})(Vr||(Vr={}));const Wr=Fc;function Os(e,t){const n=e.component=Xd(e,t.parentComponent,null);return n.ctx.$onApplyOptions=dh,n.ctx.$children=[],t.mpType==="app"&&(n.render=G),t.onBeforeSetup&&t.onBeforeSetup(n,t),mo(e),xn(n,"mount"),xn(n,"init"),eh(n),Cn(n,"init"),t.parentComponent&&n.proxy&&t.parentComponent.ctx.$children.push(zn(n)||n.proxy),vh(n),_o(),Cn(n,"mount"),n.proxy}const mh=e=>{let t;for(const n in e)(n==="class"||n==="style"||Pi(n))&&((t||(t={}))[n]=e[n]);return t};function xs(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[i],slots:c,attrs:u,emit:a,render:l,renderCache:f,data:d,setupState:h,ctx:_,uid:g,appContext:{app:{config:{globalProperties:{pruneComponentPropsCache:p}}}},inheritAttrs:m}=e;e.$templateRefs=[],e.$ei=0,p(g),e.__counter=e.__counter===0?1:0;let v;const y=ds(e);try{if(n.shapeFlag&4){Cs(m,s,i,u);const b=o||r;v=l.call(b,b,f,s,h,d,_)}else{Cs(m,s,i,t.props?u:mh(u));const b=t;v=b.length>1?b(s,{attrs:u,slots:c,emit:a}):b(s,null)}}catch(b){vo(b,e,1),v=!1}return fa(e),ds(y),v}function Cs(e,t,n,r){if(t&&r&&e!==!1){const o=Object.keys(r).filter(s=>s!=="class"&&s!=="style");if(!o.length)return;n&&o.some(Ko)?o.forEach(s=>{(!Ko(s)||!(s.slice(9)in n))&&(t[s]=r[s])}):o.forEach(s=>t[s]=r[s])}}const _h=e=>{At(),qc(),Pt()};function yh(){const e=this.$scopedSlotsData;if(!e||e.length===0)return;const t=this.ctx.$scope,n=t.data,r=Object.create(null);e.forEach(({path:o,index:s,data:i})=>{const c=Wi(n,o),u=j(s)?`${o}.${s}`:`${o}[${s}]`;if(typeof c>"u"||typeof c[s]>"u")r[u]=i;else{const a=ua(i,c[s]);Object.keys(a).forEach(l=>{r[u+"."+l]=a[l]})}}),e.length=0,Object.keys(r).length&&t.setData(r)}function tr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function vh(e){const t=yh.bind(e);e.$updateScopedSlots=()=>Uc(()=>Pn(t));const n=()=>{if(!e.isMounted)Io(()=>{fa(e,!0)},e),xn(e,"patch"),Ts(e,xs(e)),Cn(e,"patch"),ed(e);else{const{next:s,bu:i,u:c}=e;mo(s||e.vnode),tr(e,!1),_h(),i&&mn(i),tr(e,!0),xn(e,"patch"),Ts(e,xs(e)),Cn(e,"patch"),c&&Wr(c),td(e),_o()}},r=e.effect=new fo(n,()=>Pn(e.update),e.scope),o=e.update=r.run.bind(r);o.id=e.uid,tr(e,!0),r.onTrack=e.rtc?s=>mn(e.rtc,s):void 0,r.onTrigger=e.rtg?s=>mn(e.rtg,s):void 0,o.ownerInstance=e,o()}function bh(e){const{bum:t,scope:n,update:r,um:o}=e;t&&mn(t),n.stop(),r&&(r.active=!1),o&&Wr(o),Wr(()=>{e.isUnmounted=!0}),rd(e)}const wh=Hd();function Sh(){if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof my<"u")return my}function Ih(e,t=null){const n=Sh();n.__VUE__=!0,Bc(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const r=wh(e,t),o=r._context;ph(o.config);const s=u=>(u.appContext=o,u.shapeFlag=6,u),i=function(a,l){return Os(s(a),l)},c=function(a){return a&&bh(a.$)};return r.mount=function(){e.render=G;const a=Os(s({type:e}),{mpType:Vr.APP,mpInstance:null,parentComponent:null,slots:[],props:null});return r._instance=a.$,Zp(r,aa),a.$app=r,a.$createComponent=i,a.$destroyComponent=c,o.$appInstance=a,a},r.unmount=function(){x("Cannot unmount an app.")},r}function Es(e,t,n,r){P(t)&&Ot(e,t.bind(n),r)}function Th(e,t,n){const r=e.mpType||n.$mpType;!r||r==="component"||Object.keys(e).forEach(o=>{if(Ji(o,e[o],!1)){const s=e[o];$(s)?s.forEach(i=>Es(o,i,n,t)):Es(o,s,n,t)}})}function Ah(e,t,n){Th(e,t,n)}function Ph(e,t,n){return e[t]=n}function Oh(e){return function(n,r,o){if(!r)throw n;const s=e._instance;if(!s||!s.proxy)throw n;s.proxy.$callHook(ro,n)}}function xh(e,t){return e?[...new Set([].concat(e,t))]:t}function Ch(e){zi.forEach(t=>{e[t]=xh})}let zr;const un="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Eh=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;typeof atob!="function"?zr=function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!Eh.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");e+="==".slice(2-(e.length&3));for(var t,n="",r,o,s=0;s<e.length;)t=un.indexOf(e.charAt(s++))<<18|un.indexOf(e.charAt(s++))<<12|(r=un.indexOf(e.charAt(s++)))<<6|(o=un.indexOf(e.charAt(s++))),n+=r===64?String.fromCharCode(t>>16&255):o===64?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,t&255);return n}:zr=atob;function kh(e){return decodeURIComponent(zr(e).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function nr(){const e=S.getStorageSync("uni_id_token")||"",t=e.split(".");if(!e||t.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let n;try{n=JSON.parse(kh(t[1]))}catch(r){throw new Error("获取当前用户信息出错，详细错误信息为："+r.message)}return n.tokenExpired=n.exp*1e3,delete n.exp,delete n.iat,n}function $h(e){e.uniIDHasRole=function(t){const{role:n}=nr();return n.indexOf(t)>-1},e.uniIDHasPermission=function(t){const{permission:n}=nr();return this.uniIDHasRole("admin")||n.indexOf(t)>-1},e.uniIDTokenValid=function(){const{tokenExpired:t}=nr();return t>Date.now()}}function Rh(e){const t=e._context.config;t.errorHandler=Zu(e,Oh),Ch(t.optionMergeStrategies);const n=t.globalProperties;$h(n),n.$set=Ph,n.$applyOptions=Ah,S.invokeCreateVueAppHook(e)}const Vt=Object.create(null);function Lh(e){const{uid:t,__counter:n}=Ao(),r=(Vt[t]||(Vt[t]=[])).push(Gd(e))-1;return t+","+r+","+n}function pa(e){delete Vt[e]}function Oo(e){if(!e)return;const[t,n]=e.split(",");if(Vt[t])return Vt[t][parseInt(n)]}var Dh={install(e){Rh(e),e.config.globalProperties.pruneComponentPropsCache=pa;const t=e.mount;e.mount=function(r){const o=t.call(e,r),s=Nh();return s?s(o):typeof createMiniProgramApp<"u"&&createMiniProgramApp(o),o}}};function Nh(){const e="createApp";if(typeof global<"u")return global[e];if(typeof my<"u")return my[e]}function Mh(e,t){const n=Ao(),r=n.ctx,o=typeof t<"u"&&(r.$mpPlatform==="mp-weixin"||r.$mpPlatform==="mp-qq")&&(j(t)||typeof t=="number")?"_"+t:"",s="e"+n.$ei+++o,i=r.$scope;if(!e)return delete i[s],s;const c=i[s];return c?c.value=e:i[s]=Uh(e,n),s}function Uh(e,t){const n=r=>{Fh(r);let o=[r];r.detail&&r.detail.__args__&&(o=r.detail.__args__);const s=n.value,i=()=>qe(qh(r,s),t,5,o),c=r.target,u=c&&c.dataset?String(c.dataset.eventsync)==="true":!1;if(jh.includes(r.type)&&!u)setTimeout(i);else{const a=i();return r.type==="input"&&($(a)||Yt(a))?void 0:a}};return n.value=e,n}const jh=["tap","longpress","longtap","transitionend","animationstart","animationiteration","animationend","touchforcechange"];function Fh(e){e.type&&e.target&&(e.preventDefault=G,e.stopPropagation=G,e.stopImmediatePropagation=G,k(e,"detail")||(e.detail={}),k(e,"markerId")&&(e.detail=typeof e.detail=="object"?e.detail:{},e.detail.markerId=e.markerId),B(e.detail)&&k(e.detail,"checked")&&!k(e.detail,"value")&&(e.detail.value=e.detail.checked),B(e.detail)&&(e.target=M({},e.target,e.detail)))}function qh(e,t){if($(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n&&n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r(o))}else return t}function Hh(e){return j(e)?e:Bh(Si(e))}function Bh(e){let t="";if(!e||j(e))return t;for(const n in e)t+=`${n.startsWith("--")?n:tt(n)}:${e[n]};`;return t}const Kh=(e,t)=>Mh(e,t),Vh=e=>Hh(e),Wh=(e,...t)=>M(e,...t),zh=e=>Ii(e),Jh=e=>ku(e),Gh=e=>Lh(e);function Yh(e,t=null){return e&&(e.mpType="app"),Ih(e,t).use(Dh)}const Qh=Yh,Xh=["createSelectorQuery","createIntersectionObserver","selectAllComponents","selectComponent"];function Zh(e,t){return function(r,...o){const s=t.$scope;if(s&&r){const i={__args__:o};s.triggerEvent(r,i)}return e.apply(this,[r,...o])}}function da(e,t){const n=e.ctx;n.mpType=t.mpType,n.$mpType=t.mpType,n.$mpPlatform="mp-weixin",n.$scope=t.mpInstance,n.$mp={},n._self={},e.slots={},$(t.slots)&&t.slots.length&&(t.slots.forEach(r=>{e.slots[r]=!0}),e.slots[qu]&&(e.slots.default=!0)),n.getOpenerEventChannel=function(){return t.mpInstance.getOpenerEventChannel()},n.$hasHook=ng,n.$callHook=ha,e.emit=Zh(e.emit,n)}function eg(e,t){da(e,t);const n=e.ctx;Xh.forEach(r=>{n[r]=function(...o){const s=n.$scope;if(s&&s[r])return s[r].apply(s,o)}})}function tg(e,t,n){const r=e.ctx;n.forEach(o=>{k(t,o)&&(e[o]=r[o]=t[o])})}function ng(e){const t=this.$[e];return!!(t&&t.length)}function ha(e,t){e==="mounted"&&(ha.call(this,"bm"),this.$.isMounted=!0,e="m");const n=this.$[e];return n&&Wu(n,t)}const rg=[Tt,jn,Fn,qn,Di,so,io,co,ao];function Jr(e,t=new Set){if(e){Object.keys(e).forEach(n=>{Ji(n,e[n])&&t.add(n)});{const{extends:n,mixins:r}=e;r&&r.forEach(o=>Jr(o,t)),n&&Jr(n,t)}}return t}function xo(e,t,n){n.indexOf(t)===-1&&!k(e,t)&&(e[t]=function(r){return this.$vm&&this.$vm.$callHook(t,r)})}const ga=[oo];function Co(e,t,n=ga){t.forEach(r=>xo(e,r,n))}function ma(e,t,n=ga){Jr(t).forEach(r=>xo(e,r,n))}function og(e,t){if(!t)return;Object.keys(wr).forEach(r=>{t&wr[r]&&xo(e,r,[])})}const sg=Vi(()=>{const e=[],t=P(getApp)&&getApp({allowDefault:!0});if(t&&t.$vm&&t.$vm.$){const n=t.$vm.$.appContext.mixins;if($(n)){const r=Object.keys(wr);n.forEach(o=>{r.forEach(s=>{k(o,s)&&!e.includes(s)&&e.push(s)})})}}return e});function ig(e){Co(e,sg())}const cg=[jn,Fn,ro,Ei,ki,$i];function Eo(e,t){const n=e.$,r={globalData:e.$options&&e.$options.globalData||{},$vm:e,onLaunch(s){this.$vm=e;const i=n.ctx;this.$vm&&i.$scope||(da(n,{mpType:"app",mpInstance:this,slots:[]}),i.globalData=this.globalData,e.$callHook(Ci,s))}};lg(e);const o=e.$.type;Co(r,cg),ma(r,o);{const s=o.methods;s&&M(r,s)}return t&&t.parse(r),r}function ag(e){return function(n){return App(Eo(n,e))}}function ug(e){return function(n){const r=Eo(n,e),o=P(getApp)&&getApp({allowDefault:!0});if(!o)return;n.$.ctx.$scope=o;const s=o.globalData;s&&Object.keys(r.globalData).forEach(i=>{k(s,i)||(s[i]=r.globalData[i])}),Object.keys(r).forEach(i=>{k(o,i)||(o[i]=r[i])}),_a(r,n)}}function _a(e,t){if(P(e.onLaunch)){const n=wx.getLaunchOptionsSync&&wx.getLaunchOptionsSync();e.onLaunch(n)}P(e.onShow)&&wx.onAppShow&&wx.onAppShow(n=>{t.$callHook("onShow",n)}),P(e.onHide)&&wx.onAppHide&&wx.onAppHide(n=>{t.$callHook("onHide",n)})}function lg(e){const t=$c(bn(wx.getSystemInfoSync().language)||Ne);Object.defineProperty(e,"$locale",{get(){return t.value},set(n){t.value=n}})}function fg(e,t){if(!e)return;const n=e.split(","),r=n.length;r===1?t._$vueId=n[0]:r===2&&(t._$vueId=n[0],t._$vuePid=n[1])}const pg=["externalClasses"];function dg(e,t){pg.forEach(n=>{k(t,n)&&(e[n]=t[n])})}const hg=/_(.*)_worklet_factory_/;function gg(e,t){t&&Object.keys(t).forEach(n=>{const r=n.match(hg);if(r){const o=r[1];e[n]=t[n],e[o]=t[o]}})}function mg(e,t){$(t)&&t.forEach(n=>{e[n]=function(r){return this.$vm[n](r)}})}function _g(e,t,n){e.selectAllComponents(t).forEach(o=>{const s=o.properties.uR;n[s]=o.$vm||o})}function yg(e,t){Object.defineProperty(e,"refs",{get(){const n={};return _g(t,".r",n),t.selectAllComponents(".r-i-f").forEach(o=>{const s=o.properties.uR;s&&(n[s]||(n[s]=[]),n[s].push(o.$vm||o))}),n}})}function ya(e,t){const n=e.$children;for(let o=n.length-1;o>=0;o--){const s=n[o];if(s.$scope._$vueId===t)return s}let r;for(let o=n.length-1;o>=0;o--)if(r=ya(n[o],t),r)return r}const va=["eO","uR","uRIF","uI","uT","uP","uS"];function vg(e,t=!1){const n={};return t||(va.forEach(r=>{n[r]={type:null,value:""}}),n.uS={type:null,value:[],observer:function(r){const o=Object.create(null);r&&r.forEach(s=>{o[s]=!0}),this.setData({$slots:o})}}),e.behaviors&&e.behaviors.includes("wx://form-field")&&((!e.properties||!e.properties.name)&&(n.name={type:null,value:""}),(!e.properties||!e.properties.value)&&(n.value={type:null,value:""})),n}function bg(e){const t={};return e&&e.virtualHost&&(t.virtualHostStyle={type:null,value:""},t.virtualHostClass={type:null,value:""}),t}function ba(e){e.properties||(e.properties={}),M(e.properties,vg(e),bg(e.options))}const wg=[String,Number,Boolean,Object,Array,null];function Sg(e,t){return $(e)&&e.length===1?e[0]:e}function ks(e,t){const n=Sg(e);return wg.indexOf(n)!==-1?n:null}function Ig({properties:e},t){$(t)?t.forEach(n=>{e[n]={type:String,value:""}}):B(t)&&Object.keys(t).forEach(n=>{const r=t[n];if(B(r)){let o=r.default;P(o)&&(o=o());const s=r.type;r.type=ks(s),e[n]={type:r.type,value:o}}else e[n]={type:ks(r)}})}function Tg(e,t){return(t?Ag(e):Oo(e.uP))||{}}function Ag(e){const t={};return B(e)&&Object.keys(e).forEach(n=>{va.indexOf(n)===-1&&(t[n]=e[n])}),t}function Pg(e){const t=e.$options;$(t.behaviors)&&t.behaviors.includes("uni://form-field")&&e.$watch("modelValue",()=>{e.$scope&&e.$scope.setData({name:e.name,value:e.modelValue})},{immediate:!0})}function Og(e){return{}}function wa(e){const t=function(){const r=this.properties.uP;r&&(this.$vm?Cg(r,this.$vm.$):this.properties.uT==="m"&&xg(r,this))};e.observers||(e.observers={}),e.observers.uP=t}function xg(e,t){const n=t.properties,r=Oo(e)||{};Sa(n,r,!1)&&t.setData(r)}function Cg(e,t){const n=R(t.props),r=Oo(e)||{};Sa(n,r)&&(Dd(t,r,n,!1),Gp(t.update)&&Yp(t.update),t.update())}function Sa(e,t,n=!0){const r=Object.keys(t);if(n&&r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s])return!0}return!1}function Eg(e){const t=e.behaviors;let n=e.props;n||(e.props=n=[]);const r=[];return $(t)&&t.forEach(o=>{r.push(o.replace("uni://","wx://")),o==="uni://form-field"&&($(n)?(n.push("name"),n.push("modelValue")):(n.name={type:String,default:""},n.modelValue={type:[String,Number,Boolean,Array,Object,Date],default:""}))}),r}function kg(e,t){e.data=Og(),e.behaviors=Eg(t)}function Ia(e,{parse:t,mocks:n,isPage:r,initRelation:o,handleLink:s,initLifetimes:i}){e=e.default||e;const c={multipleSlots:!0,addGlobalClass:!0,pureDataPattern:/^uP$/};$(e.mixins)&&e.mixins.forEach(a=>{U(a.options)&&M(c,a.options)}),e.options&&M(c,e.options);const u={options:c,lifetimes:i({mocks:n,isPage:r,initRelation:o,vueOptions:e}),pageLifetimes:{show(){this.$vm&&this.$vm.$callHook("onPageShow")},hide(){this.$vm&&this.$vm.$callHook("onPageHide")},resize(a){this.$vm&&this.$vm.$callHook("onPageResize",a)}},methods:{__l:s}};return kg(u,e),ba(u),wa(u),dg(u,e),mg(u.methods,e.wxsCallMethods),gg(u.methods,e.methods),t&&t(u,{handleLink:s}),u}function $g(e){return function(n){return Component(Ia(n,e))}}let rr,or;function Ta(){return getApp().$vm}function Rg(e,t){rr||(rr=Ta().$createComponent);const n=rr(e,t);return zn(n.$)||n}function Lg(e){return or||(or=Ta().$destroyComponent),or(e)}function Dg(e,t){const{parse:n,mocks:r,isPage:o,initRelation:s,handleLink:i,initLifetimes:c}=t,u=Ia(e,{mocks:r,isPage:o,initRelation:s,handleLink:i,initLifetimes:c});Ig(u,(e.default||e).props);const a=u.methods;return a.onLoad=function(l){return this.options=l,this.$page={fullPath:Vu(this.route+Ju(l))},this.$vm&&this.$vm.$callHook(Tt,l)},Co(a,rg),ma(a,e),og(a,e.__runtimeHooks),ig(a),n&&n(u,{handleLink:i}),u}function Ng(e){return function(n){return Component(Dg(n,e))}}function Mg(e){return function(n){_a(Eo(n,e),n)}}const Ug=Page,jg=Component;function $s(e){const t=e.triggerEvent,n=function(r,...o){return t.apply(e,[Bu(r),...o])};try{e.triggerEvent=n}catch{e._triggerEvent=n}}function Aa(e,t,n){const r=t[e];r?t[e]=function(...o){return $s(this),r.apply(this,o)}:t[e]=function(){$s(this)}}Page=function(e){return Aa(Tt,e),Ug(e)};Component=function(e){return Aa("created",e),e.properties&&e.properties.uP||(ba(e),wa(e)),jg(e)};function Fg({mocks:e,isPage:t,initRelation:n,vueOptions:r}){return{attached(){let o=this.properties;fg(o.uI,this);const s={vuePid:this._$vuePid};n(this,s);const i=this,c=t(i);let u=o;this.$vm=Rg({type:r,props:Tg(u,c)},{mpType:c?"page":"component",mpInstance:i,slots:o.uS||{},parentComponent:s.parent&&s.parent.$,onBeforeSetup(a,l){yg(a,i),tg(a,i,e),eg(a,l)}}),c||Pg(this.$vm)},ready(){this.$vm&&(this.$vm.$callHook("mounted"),this.$vm.$callHook(oo))},detached(){this.$vm&&(pa(this.$vm.$.uid),Lg(this.$vm))}}}const qg=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function Hg(e){return!!e.route}function Bg(e,t){e.triggerEvent("__l",t)}function Kg(e){const t=e.detail||e.value,n=t.vuePid;let r;n&&(r=ya(this.$vm,n)),r||(r=this.$vm),t.parent=r}var Pa=Object.freeze({__proto__:null,handleLink:Kg,initLifetimes:Fg,initRelation:Bg,isPage:Hg,mocks:qg});const Vg=ag(),Wg=Ng(Pa),zg=$g(Pa),Jg=Mg(),Gg=ug();wx.createApp=global.createApp=Vg,wx.createPage=Wg,wx.createComponent=zg,wx.createPluginApp=global.createPluginApp=Jg,wx.createSubpackageApp=global.createSubpackageApp=Gg;/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Oa="store";function Yg(e){return e===void 0&&(e=null),_n(e!==null?e:Oa)}function it(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function xa(e){return e!==null&&typeof e=="object"}function Qg(e){return e&&typeof e.then=="function"}function pe(e,t){if(!e)throw new Error("[vuex] "+t)}function Xg(e,t){return function(){return e(t)}}function Ca(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function Ea(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Gn(e,n,[],e._modules.root,!0),ko(e,n,t)}function ko(e,t,n){var r=e._state,o=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,i={},c={},u=sp(!0);u.run(function(){it(s,function(a,l){i[l]=Xg(a,e),c[l]=ca(function(){return i[l]()}),Object.defineProperty(e.getters,l,{get:function(){return c[l].value},enumerable:!0})})}),e._state=Qt({data:t}),e._scope=u,e.strict&&om(e),r&&n&&e._withCommit(function(){r.data=null}),o&&o.stop()}function Gn(e,t,n,r,o){var s=!n.length,i=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[i]&&console.error("[vuex] duplicate namespace "+i+" for the namespaced module "+n.join("/")),e._modulesNamespaceMap[i]=r),!s&&!o){var c=$o(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){u in c&&console.warn('[vuex] state field "'+u+'" was overridden by a module with the same name at "'+n.join(".")+'"'),c[u]=r.state})}var a=r.context=Zg(e,i,n);r.forEachMutation(function(l,f){var d=i+f;tm(e,d,l,a)}),r.forEachAction(function(l,f){var d=l.root?f:i+f,h=l.handler||l;nm(e,d,h,a)}),r.forEachGetter(function(l,f){var d=i+f;rm(e,d,l,a)}),r.forEachChild(function(l,f){Gn(e,t,n.concat(f),l,o)})}function Zg(e,t,n){var r=t==="",o={dispatch:r?e.dispatch:function(s,i,c){var u=$n(s,i,c),a=u.payload,l=u.options,f=u.type;if((!l||!l.root)&&(f=t+f,!e._actions[f])){console.error("[vuex] unknown local action type: "+u.type+", global type: "+f);return}return e.dispatch(f,a)},commit:r?e.commit:function(s,i,c){var u=$n(s,i,c),a=u.payload,l=u.options,f=u.type;if((!l||!l.root)&&(f=t+f,!e._mutations[f])){console.error("[vuex] unknown local mutation type: "+u.type+", global type: "+f);return}e.commit(f,a,l)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return em(e,t)}},state:{get:function(){return $o(e.state,n)}}}),o}function em(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(o){if(o.slice(0,r)===t){var s=o.slice(r);Object.defineProperty(n,s,{get:function(){return e.getters[o]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function tm(e,t,n,r){var o=e._mutations[t]||(e._mutations[t]=[]);o.push(function(i){n.call(e,r.state,i)})}function nm(e,t,n,r){var o=e._actions[t]||(e._actions[t]=[]);o.push(function(i){var c=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},i);return Qg(c)||(c=Promise.resolve(c)),e._devtoolHook?c.catch(function(u){throw e._devtoolHook.emit("vuex:error",u),u}):c})}function rm(e,t,n,r){if(e._wrappedGetters[t]){console.error("[vuex] duplicate getter key: "+t);return}e._wrappedGetters[t]=function(s){return n(r.state,r.getters,s.state,s.getters)}}function om(e){Nt(function(){return e._state.data},function(){pe(e._committing,"do not mutate vuex store state outside mutation handlers.")},{deep:!0,flush:"sync"})}function $o(e,t){return t.reduce(function(n,r){return n[r]},e)}function $n(e,t,n){return xa(e)&&e.type&&(n=t,t=e,e=e.type),pe(typeof e=="string","expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:n}}var de=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},ka={namespaced:{configurable:!0}};ka.namespaced.get=function(){return!!this._rawModule.namespaced};de.prototype.addChild=function(t,n){this._children[t]=n};de.prototype.removeChild=function(t){delete this._children[t]};de.prototype.getChild=function(t){return this._children[t]};de.prototype.hasChild=function(t){return t in this._children};de.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};de.prototype.forEachChild=function(t){it(this._children,t)};de.prototype.forEachGetter=function(t){this._rawModule.getters&&it(this._rawModule.getters,t)};de.prototype.forEachAction=function(t){this._rawModule.actions&&it(this._rawModule.actions,t)};de.prototype.forEachMutation=function(t){this._rawModule.mutations&&it(this._rawModule.mutations,t)};Object.defineProperties(de.prototype,ka);var ct=function(t){this.register([],t,!1)};ct.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};ct.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,o){return n=n.getChild(o),r+(n.namespaced?o+"/":"")},"")};ct.prototype.update=function(t){$a([],this.root,t)};ct.prototype.register=function(t,n,r){var o=this;r===void 0&&(r=!0),Ra(t,n);var s=new de(n,r);if(t.length===0)this.root=s;else{var i=this.get(t.slice(0,-1));i.addChild(t[t.length-1],s)}n.modules&&it(n.modules,function(c,u){o.register(t.concat(u),c,r)})};ct.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],o=n.getChild(r);if(!o){console.warn("[vuex] trying to unregister module '"+r+"', which is not registered");return}o.runtime&&n.removeChild(r)};ct.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function $a(e,t,n){if(Ra(e,n),t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r)){console.warn("[vuex] trying to add a new module '"+r+"' on hot reloading, manual reload is needed");return}$a(e.concat(r),t.getChild(r),n.modules[r])}}var Rs={assert:function(e){return typeof e=="function"},expected:"function"},sm={assert:function(e){return typeof e=="function"||typeof e=="object"&&typeof e.handler=="function"},expected:'function or object with "handler" function'},Ls={getters:Rs,mutations:Rs,actions:sm};function Ra(e,t){Object.keys(Ls).forEach(function(n){if(t[n]){var r=Ls[n];it(t[n],function(o,s){pe(r.assert(o),im(e,n,s,o,r.expected))})}})}function im(e,t,n,r,o){var s=t+" should be "+o+' but "'+t+"."+n+'"';return e.length>0&&(s+=' in module "'+e.join(".")+'"'),s+=" is "+JSON.stringify(r)+".",s}function cm(e){return new se(e)}var se=function e(t){var n=this;t===void 0&&(t={}),pe(typeof Promise<"u","vuex requires a Promise polyfill in this browser."),pe(this instanceof e,"store must be called with the new operator.");var r=t.plugins;r===void 0&&(r=[]);var o=t.strict;o===void 0&&(o=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ct(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var i=this,c=this,u=c.dispatch,a=c.commit;this.dispatch=function(d,h){return u.call(i,d,h)},this.commit=function(d,h,_){return a.call(i,d,h,_)},this.strict=o;var l=this._modules.root.state;Gn(this,l,[],this._modules.root),ko(this,l),r.forEach(function(f){return f(n)})},Ro={state:{configurable:!0}};se.prototype.install=function(t,n){t.provide(n||Oa,this),t.config.globalProperties.$store=this,this._devtools!==void 0&&this._devtools};Ro.state.get=function(){return this._state.data};Ro.state.set=function(e){pe(!1,"use store.replaceState() to explicit replace store state.")};se.prototype.commit=function(t,n,r){var o=this,s=$n(t,n,r),i=s.type,c=s.payload,u=s.options,a={type:i,payload:c},l=this._mutations[i];if(!l){console.error("[vuex] unknown mutation type: "+i);return}this._withCommit(function(){l.forEach(function(d){d(c)})}),this._subscribers.slice().forEach(function(f){return f(a,o.state)}),u&&u.silent&&console.warn("[vuex] mutation type: "+i+". Silent option has been removed. Use the filter functionality in the vue-devtools")};se.prototype.dispatch=function(t,n){var r=this,o=$n(t,n),s=o.type,i=o.payload,c={type:s,payload:i},u=this._actions[s];if(!u){console.error("[vuex] unknown action type: "+s);return}try{this._actionSubscribers.slice().filter(function(l){return l.before}).forEach(function(l){return l.before(c,r.state)})}catch(l){console.warn("[vuex] error in before action subscribers: "),console.error(l)}var a=u.length>1?Promise.all(u.map(function(l){return l(i)})):u[0](i);return new Promise(function(l,f){a.then(function(d){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(c,r.state)})}catch(h){console.warn("[vuex] error in after action subscribers: "),console.error(h)}l(d)},function(d){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(c,r.state,d)})}catch(h){console.warn("[vuex] error in error action subscribers: "),console.error(h)}f(d)})})};se.prototype.subscribe=function(t,n){return Ca(t,this._subscribers,n)};se.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return Ca(r,this._actionSubscribers,n)};se.prototype.watch=function(t,n,r){var o=this;return pe(typeof t=="function","store.watch only accepts a function."),Nt(function(){return t(o.state,o.getters)},n,Object.assign({},r))};se.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};se.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),pe(Array.isArray(t),"module path must be a string or an Array."),pe(t.length>0,"cannot register the root module by using registerModule."),this._modules.register(t,n),Gn(this,this.state,t,this._modules.get(t),r.preserveState),ko(this,this.state)};se.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),pe(Array.isArray(t),"module path must be a string or an Array."),this._modules.unregister(t),this._withCommit(function(){var r=$o(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),Ea(this)};se.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),pe(Array.isArray(t),"module path must be a string or an Array."),this._modules.isRegistered(t)};se.prototype.hotUpdate=function(t){this._modules.update(t),Ea(this,!0)};se.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(se.prototype,Ro);var am=Da(function(e,t){var n={};return Lo(t)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),La(t).forEach(function(r){var o=r.key,s=r.val;n[o]=function(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];var a=this.$store.commit;if(e){var l=Na(this.$store,"mapMutations",e);if(!l)return;a=l.context.commit}return typeof s=="function"?s.apply(this,[a].concat(c)):a.apply(this.$store,[s].concat(c))}}),n}),um=Da(function(e,t){var n={};return Lo(t)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),La(t).forEach(function(r){var o=r.key,s=r.val;n[o]=function(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];var a=this.$store.dispatch;if(e){var l=Na(this.$store,"mapActions",e);if(!l)return;a=l.context.dispatch}return typeof s=="function"?s.apply(this,[a].concat(c)):a.apply(this.$store,[s].concat(c))}}),n});function La(e){return Lo(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function Lo(e){return Array.isArray(e)||xa(e)}function Da(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function Na(e,t,n){var r=e._modulesNamespaceMap[n];return r||console.error("[vuex] module namespace not found in "+t+"(): "+n),r}const lm={path:"windows/left-window.vue",style:{width:"350px"}},fm={path:"windows/top-window.vue",style:{height:"60px"}},pm=[{path:"pages/home/index",style:{navigationBarTitleText:"首页","app-plus":{bounce:"vertical",titleNView:{buttons:[{text:"",fontSrc:"/static/uni.ttf",fontSize:"22px",color:"#FFFFFF"}]}}}},{path:"pages/me/index",style:{navigationBarTitleText:"我的","app-plus":{bounce:"vertical",titleNView:{buttons:[{text:"",fontSrc:"/static/uni.ttf",fontSize:"22px",color:"#FFFFFF"}]}}}}],dm={pageOrientation:"portrait",navigationBarTextStyle:"white",navigationBarBackgroundColor:"#007AFF",backgroundColor:"#3C4250",backgroundColorTop:"#F4F5F6",backgroundColorBottom:"#F4F5F6","mp-360":{navigationStyle:"custom"},h5:{maxWidth:1190,navigationBarTextStyle:"black",navigationBarBackgroundColor:"#F1F1F1"}},hm={color:"#7A7E83",selectedColor:"#007AFF",borderStyle:"black",backgroundColor:"#F8F8F8",list:[{pagePath:"pages/home/index",iconPath:"static/template.png",selectedIconPath:"static/templateHL.png",text:"首页"},{pagePath:"pages/me/index",iconPath:"static/extui.png",selectedIconPath:"static/extuiHL.png",text:"我的"}]},Ma={leftWindow:lm,topWindow:fm,pages:pm,globalStyle:dm,tabBar:hm};function gm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ze(e,t,n){return e(n={path:t,exports:{},require:function(r,o){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(o==null&&n.path)}},n.exports),n.exports}var mm=Ze(function(e,t){var n;e.exports=(n=n||function(r,o){var s=Object.create||function(){function p(){}return function(m){var v;return p.prototype=m,v=new p,p.prototype=null,v}}(),i={},c=i.lib={},u=c.Base={extend:function(p){var m=s(this);return p&&m.mixIn(p),m.hasOwnProperty("init")&&this.init!==m.init||(m.init=function(){m.$super.init.apply(this,arguments)}),m.init.prototype=m,m.$super=this,m},create:function(){var p=this.extend();return p.init.apply(p,arguments),p},init:function(){},mixIn:function(p){for(var m in p)p.hasOwnProperty(m)&&(this[m]=p[m]);p.hasOwnProperty("toString")&&(this.toString=p.toString)},clone:function(){return this.init.prototype.extend(this)}},a=c.WordArray=u.extend({init:function(p,m){p=this.words=p||[],this.sigBytes=m!=o?m:4*p.length},toString:function(p){return(p||f).stringify(this)},concat:function(p){var m=this.words,v=p.words,y=this.sigBytes,b=p.sigBytes;if(this.clamp(),y%4)for(var O=0;O<b;O++){var C=v[O>>>2]>>>24-O%4*8&255;m[y+O>>>2]|=C<<24-(y+O)%4*8}else for(O=0;O<b;O+=4)m[y+O>>>2]=v[O>>>2];return this.sigBytes+=b,this},clamp:function(){var p=this.words,m=this.sigBytes;p[m>>>2]&=4294967295<<32-m%4*8,p.length=r.ceil(m/4)},clone:function(){var p=u.clone.call(this);return p.words=this.words.slice(0),p},random:function(p){for(var m,v=[],y=function(C){C=C;var N=987654321,q=4294967295;return function(){var ie=((N=36969*(65535&N)+(N>>16)&q)<<16)+(C=18e3*(65535&C)+(C>>16)&q)&q;return ie/=4294967296,(ie+=.5)*(r.random()>.5?1:-1)}},b=0;b<p;b+=4){var O=y(4294967296*(m||r.random()));m=987654071*O(),v.push(4294967296*O()|0)}return new a.init(v,p)}}),l=i.enc={},f=l.Hex={stringify:function(p){for(var m=p.words,v=p.sigBytes,y=[],b=0;b<v;b++){var O=m[b>>>2]>>>24-b%4*8&255;y.push((O>>>4).toString(16)),y.push((15&O).toString(16))}return y.join("")},parse:function(p){for(var m=p.length,v=[],y=0;y<m;y+=2)v[y>>>3]|=parseInt(p.substr(y,2),16)<<24-y%8*4;return new a.init(v,m/2)}},d=l.Latin1={stringify:function(p){for(var m=p.words,v=p.sigBytes,y=[],b=0;b<v;b++){var O=m[b>>>2]>>>24-b%4*8&255;y.push(String.fromCharCode(O))}return y.join("")},parse:function(p){for(var m=p.length,v=[],y=0;y<m;y++)v[y>>>2]|=(255&p.charCodeAt(y))<<24-y%4*8;return new a.init(v,m)}},h=l.Utf8={stringify:function(p){try{return decodeURIComponent(escape(d.stringify(p)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(p){return d.parse(unescape(encodeURIComponent(p)))}},_=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(p){typeof p=="string"&&(p=h.parse(p)),this._data.concat(p),this._nDataBytes+=p.sigBytes},_process:function(p){var m=this._data,v=m.words,y=m.sigBytes,b=this.blockSize,O=y/(4*b),C=(O=p?r.ceil(O):r.max((0|O)-this._minBufferSize,0))*b,N=r.min(4*C,y);if(C){for(var q=0;q<C;q+=b)this._doProcessBlock(v,q);var ie=v.splice(0,C);m.sigBytes-=N}return new a.init(ie,N)},clone:function(){var p=u.clone.call(this);return p._data=this._data.clone(),p},_minBufferSize:0});c.Hasher=_.extend({cfg:u.extend(),init:function(p){this.cfg=this.cfg.extend(p),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(p){return this._append(p),this._process(),this},finalize:function(p){return p&&this._append(p),this._doFinalize()},blockSize:16,_createHelper:function(p){return function(m,v){return new p.init(v).finalize(m)}},_createHmacHelper:function(p){return function(m,v){return new g.HMAC.init(p,v).finalize(m)}}});var g=i.algo={};return i}(Math),n)}),Mt=mm,_m=(Ze(function(e,t){var n;e.exports=(n=Mt,function(r){var o=n,s=o.lib,i=s.WordArray,c=s.Hasher,u=o.algo,a=[];(function(){for(var g=0;g<64;g++)a[g]=4294967296*r.abs(r.sin(g+1))|0})();var l=u.MD5=c.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,p){for(var m=0;m<16;m++){var v=p+m,y=g[v];g[v]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8)}var b=this._hash.words,O=g[p+0],C=g[p+1],N=g[p+2],q=g[p+3],ie=g[p+4],he=g[p+5],ge=g[p+6],Ce=g[p+7],Te=g[p+8],xt=g[p+9],me=g[p+10],V=g[p+11],L=g[p+12],D=g[p+13],ue=g[p+14],at=g[p+15],w=b[0],A=b[1],I=b[2],T=b[3];w=f(w,A,I,T,O,7,a[0]),T=f(T,w,A,I,C,12,a[1]),I=f(I,T,w,A,N,17,a[2]),A=f(A,I,T,w,q,22,a[3]),w=f(w,A,I,T,ie,7,a[4]),T=f(T,w,A,I,he,12,a[5]),I=f(I,T,w,A,ge,17,a[6]),A=f(A,I,T,w,Ce,22,a[7]),w=f(w,A,I,T,Te,7,a[8]),T=f(T,w,A,I,xt,12,a[9]),I=f(I,T,w,A,me,17,a[10]),A=f(A,I,T,w,V,22,a[11]),w=f(w,A,I,T,L,7,a[12]),T=f(T,w,A,I,D,12,a[13]),I=f(I,T,w,A,ue,17,a[14]),w=d(w,A=f(A,I,T,w,at,22,a[15]),I,T,C,5,a[16]),T=d(T,w,A,I,ge,9,a[17]),I=d(I,T,w,A,V,14,a[18]),A=d(A,I,T,w,O,20,a[19]),w=d(w,A,I,T,he,5,a[20]),T=d(T,w,A,I,me,9,a[21]),I=d(I,T,w,A,at,14,a[22]),A=d(A,I,T,w,ie,20,a[23]),w=d(w,A,I,T,xt,5,a[24]),T=d(T,w,A,I,ue,9,a[25]),I=d(I,T,w,A,q,14,a[26]),A=d(A,I,T,w,Te,20,a[27]),w=d(w,A,I,T,D,5,a[28]),T=d(T,w,A,I,N,9,a[29]),I=d(I,T,w,A,Ce,14,a[30]),w=h(w,A=d(A,I,T,w,L,20,a[31]),I,T,he,4,a[32]),T=h(T,w,A,I,Te,11,a[33]),I=h(I,T,w,A,V,16,a[34]),A=h(A,I,T,w,ue,23,a[35]),w=h(w,A,I,T,C,4,a[36]),T=h(T,w,A,I,ie,11,a[37]),I=h(I,T,w,A,Ce,16,a[38]),A=h(A,I,T,w,me,23,a[39]),w=h(w,A,I,T,D,4,a[40]),T=h(T,w,A,I,O,11,a[41]),I=h(I,T,w,A,q,16,a[42]),A=h(A,I,T,w,ge,23,a[43]),w=h(w,A,I,T,xt,4,a[44]),T=h(T,w,A,I,L,11,a[45]),I=h(I,T,w,A,at,16,a[46]),w=_(w,A=h(A,I,T,w,N,23,a[47]),I,T,O,6,a[48]),T=_(T,w,A,I,Ce,10,a[49]),I=_(I,T,w,A,ue,15,a[50]),A=_(A,I,T,w,he,21,a[51]),w=_(w,A,I,T,L,6,a[52]),T=_(T,w,A,I,q,10,a[53]),I=_(I,T,w,A,me,15,a[54]),A=_(A,I,T,w,C,21,a[55]),w=_(w,A,I,T,Te,6,a[56]),T=_(T,w,A,I,at,10,a[57]),I=_(I,T,w,A,ge,15,a[58]),A=_(A,I,T,w,D,21,a[59]),w=_(w,A,I,T,ie,6,a[60]),T=_(T,w,A,I,V,10,a[61]),I=_(I,T,w,A,N,15,a[62]),A=_(A,I,T,w,xt,21,a[63]),b[0]=b[0]+w|0,b[1]=b[1]+A|0,b[2]=b[2]+I|0,b[3]=b[3]+T|0},_doFinalize:function(){var g=this._data,p=g.words,m=8*this._nDataBytes,v=8*g.sigBytes;p[v>>>5]|=128<<24-v%32;var y=r.floor(m/4294967296),b=m;p[15+(v+64>>>9<<4)]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8),p[14+(v+64>>>9<<4)]=16711935&(b<<8|b>>>24)|4278255360&(b<<24|b>>>8),g.sigBytes=4*(p.length+1),this._process();for(var O=this._hash,C=O.words,N=0;N<4;N++){var q=C[N];C[N]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8)}return O},clone:function(){var g=c.clone.call(this);return g._hash=this._hash.clone(),g}});function f(g,p,m,v,y,b,O){var C=g+(p&m|~p&v)+y+O;return(C<<b|C>>>32-b)+p}function d(g,p,m,v,y,b,O){var C=g+(p&v|m&~v)+y+O;return(C<<b|C>>>32-b)+p}function h(g,p,m,v,y,b,O){var C=g+(p^m^v)+y+O;return(C<<b|C>>>32-b)+p}function _(g,p,m,v,y,b,O){var C=g+(m^(p|~v))+y+O;return(C<<b|C>>>32-b)+p}o.MD5=c._createHelper(l),o.HmacMD5=c._createHmacHelper(l)}(Math),n.MD5)}),Ze(function(e,t){var n;e.exports=(n=Mt,void function(){var r=n,o=r.lib.Base,s=r.enc.Utf8;r.algo.HMAC=o.extend({init:function(i,c){i=this._hasher=new i.init,typeof c=="string"&&(c=s.parse(c));var u=i.blockSize,a=4*u;c.sigBytes>a&&(c=i.finalize(c)),c.clamp();for(var l=this._oKey=c.clone(),f=this._iKey=c.clone(),d=l.words,h=f.words,_=0;_<u;_++)d[_]^=1549556828,h[_]^=909522486;l.sigBytes=f.sigBytes=a,this.reset()},reset:function(){var i=this._hasher;i.reset(),i.update(this._iKey)},update:function(i){return this._hasher.update(i),this},finalize:function(i){var c=this._hasher,u=c.finalize(i);return c.reset(),c.finalize(this._oKey.clone().concat(u))}})}())}),Ze(function(e,t){e.exports=Mt.HmacMD5})),ym=Ze(function(e,t){e.exports=Mt.enc.Utf8}),vm=Ze(function(e,t){var n;e.exports=(n=Mt,function(){var r=n,o=r.lib.WordArray;function s(i,c,u){for(var a=[],l=0,f=0;f<c;f++)if(f%4){var d=u[i.charCodeAt(f-1)]<<f%4*2,h=u[i.charCodeAt(f)]>>>6-f%4*2;a[l>>>2]|=(d|h)<<24-l%4*8,l++}return o.create(a,l)}r.enc.Base64={stringify:function(i){var c=i.words,u=i.sigBytes,a=this._map;i.clamp();for(var l=[],f=0;f<u;f+=3)for(var d=(c[f>>>2]>>>24-f%4*8&255)<<16|(c[f+1>>>2]>>>24-(f+1)%4*8&255)<<8|c[f+2>>>2]>>>24-(f+2)%4*8&255,h=0;h<4&&f+.75*h<u;h++)l.push(a.charAt(d>>>6*(3-h)&63));var _=a.charAt(64);if(_)for(;l.length%4;)l.push(_);return l.join("")},parse:function(i){var c=i.length,u=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var l=0;l<u.length;l++)a[u.charCodeAt(l)]=l}var f=u.charAt(64);if(f){var d=i.indexOf(f);d!==-1&&(c=d)}return s(i,c,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)});const Ds="FUNCTION",bm="OBJECT",wm="CLIENT_DB",Ns="pending",Sm="fullfilled",Ms="rejected";function Do(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function Ua(e){return Do(e)==="object"}function ja(e){return typeof e=="function"}function Im(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}const Us="REJECTED",Fa="NOT_PENDING";class No{constructor({createPromise:t,retryRule:n=Us}={}){this.createPromise=t,this.status=null,this.promise=null,this.retryRule=n}get needRetry(){if(!this.status)return!0;switch(this.retryRule){case Us:return this.status===Ms;case Fa:return this.status!==Ns}}exec(){return this.needRetry?(this.status=Ns,this.promise=this.createPromise().then(t=>(this.status=Sm,Promise.resolve(t)),t=>(this.status=Ms,Promise.reject(t))),this.promise):this.promise}}function Mo(e){return e&&typeof e=="string"?JSON.parse(e):e}const Tm=!0,Am="mp-weixin",Pm=Mo([]),vt=Am,Om=Mo(""),qa=Mo("[]")||[];let xm="";try{xm="__UNI__7420222"}catch{}let sr={};function bt(e,t={}){var n,r;return n=sr,r=e,Object.prototype.hasOwnProperty.call(n,r)||(sr[e]=t),sr[e]}const Ha=["invoke","success","fail","complete"],we=bt("_globalUniCloudInterceptor");function Ba(e,t){we[e]||(we[e]={}),Ua(t)&&Object.keys(t).forEach(n=>{Ha.indexOf(n)>-1&&function(r,o,s){let i=we[r][o];i||(i=we[r][o]=[]),i.indexOf(s)===-1&&ja(s)&&i.push(s)}(e,n,t[n])})}function Cm(e,t){we[e]||(we[e]={}),Ua(t)?Object.keys(t).forEach(n=>{Ha.indexOf(n)>-1&&function(r,o,s){const i=we[r][o];if(!i)return;const c=i.indexOf(s);c>-1&&i.splice(c,1)}(e,n,t[n])}):delete we[e]}function te(e,t){return e&&e.length!==0?e.reduce((n,r)=>n.then(()=>r(t)),Promise.resolve()):Promise.resolve()}function ne(e,t){return we[e]&&we[e][t]||[]}function Em(e){Ba("callObject",e)}const ir=bt("_globalUniCloudListener"),Se="response",wt="needLogin",Rn="refreshToken",js="clientdb",ln="cloudfunction",Fs="cloudobject";function Xt(e){return ir[e]||(ir[e]=[]),ir[e]}function cr(e,t){const n=Xt(e);n.includes(t)||n.push(t)}function ar(e,t){const n=Xt(e),r=n.indexOf(t);r!==-1&&n.splice(r,1)}function ae(e,t){const n=Xt(e);for(let r=0;r<n.length;r++)(0,n[r])(t)}let ur,lr=!1;function Ka(){return ur||(ur=new Promise(e=>{lr&&e(),function t(){if(typeof getCurrentPages=="function"){const n=getCurrentPages();n&&n[0]&&(lr=!0,e())}lr||setTimeout(()=>{t()},30)}()}),ur)}function Va(e){const t={};for(const n in e){const r=e[n];ja(r)&&(t[n]=Im(r))}return t}class E extends Error{constructor(t){super(t.message),this.errMsg=t.message||t.errMsg||"unknown system error",this.code=this.errCode=t.code||t.errCode||"SYSTEM_ERROR",this.errSubject=this.subject=t.subject||t.errSubject,this.cause=t.cause,this.requestId=t.requestId}toJson(t=0){if(!(t>=10))return t++,{errCode:this.errCode,errMsg:this.errMsg,errSubject:this.errSubject,cause:this.cause&&this.cause.toJson?this.cause.toJson(t):this.cause}}}var Z={request:e=>S.request(e),uploadFile:e=>S.uploadFile(e),setStorageSync:(e,t)=>S.setStorageSync(e,t),getStorageSync:e=>S.getStorageSync(e),removeStorageSync:e=>S.removeStorageSync(e),clearStorageSync:()=>S.clearStorageSync()};function Wa(e){return e&&Wa(e.__v_raw)||e}function Yn(){return{token:Z.getStorageSync("uni_id_token")||Z.getStorageSync("uniIdToken"),tokenExpired:Z.getStorageSync("uni_id_token_expired")}}function za({token:e,tokenExpired:t}={}){e&&Z.setStorageSync("uni_id_token",e),t&&Z.setStorageSync("uni_id_token_expired",t)}let fr,fn;function Ja(){return fr||(fr=S.getSystemInfoSync()),fr}function km(){let e,t;try{if(S.getLaunchOptionsSync){if(S.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;const{scene:n,channel:r}=S.getLaunchOptionsSync();e=r,t=n}}catch{}return{channel:e,scene:t}}function Ga(){const e=S.getLocale&&S.getLocale()||"en";if(fn)return{...fn,locale:e,LOCALE:e};const t=Ja(),{deviceId:n,osName:r,uniPlatform:o,appId:s}=t,i=["pixelRatio","brand","model","system","language","version","platform","host","SDKVersion","swanNativeVersion","app","AppPlatform","fontSizeSetting"];for(let c=0;c<i.length;c++)delete t[i[c]];return fn={PLATFORM:o,OS:r,APPID:s,DEVICEID:n,...km(),...t},{...fn,locale:e,LOCALE:e}}var Rt={sign:function(e,t){let n="";return Object.keys(e).sort().forEach(function(r){e[r]&&(n=n+"&"+r+"="+e[r])}),n=n.slice(1),_m(n,t).toString()},wrappedRequest:function(e,t){return new Promise((n,r)=>{t(Object.assign(e,{complete(o){o||(o={});const s=o.data&&o.data.header&&o.data.header["x-serverless-request-id"]||o.header&&o.header["request-id"];if(!o.statusCode||o.statusCode>=400)return r(new E({code:"SYS_ERR",message:o.errMsg||"request:fail",requestId:s}));const i=o.data;if(i.error)return r(new E({code:i.error.code,message:i.error.message,requestId:s}));i.result=i.data,i.requestId=s,delete i.data,n(i)}}))})},toBase64:function(e){return vm.stringify(ym.parse(e))}},qs={"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"};const{t:$m}=_l({"zh-Hans":{"uniCloud.init.paramRequired":"缺少参数：{param}","uniCloud.uploadFile.fileError":"filePath应为File对象"},"zh-Hant":{"uniCloud.init.paramRequired":"缺少参数：{param}","uniCloud.uploadFile.fileError":"filePath应为File对象"},en:qs,fr:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},es:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},ja:qs},"zh-Hans");var Ya=class{constructor(e){["spaceId","clientSecret"].forEach(t=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error($m("uniCloud.init.paramRequired",{param:t}))}),this.config=Object.assign({},{endpoint:e.spaceId.indexOf("mp-")===0?"https://api.next.bspapp.com":"https://api.bspapp.com"},e),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=Z,this._getAccessTokenPromiseHub=new No({createPromise:()=>this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then(t=>{if(!t.result||!t.result.accessToken)throw new E({code:"AUTH_FAILED",message:"获取accessToken失败"});this.setAccessToken(t.result.accessToken)}),retryRule:Fa})}get hasAccessToken(){return!!this.accessToken}setAccessToken(e){this.accessToken=e}requestWrapped(e){return Rt.wrappedRequest(e,this.adapter.request)}requestAuth(e){return this.requestWrapped(e)}request(e,t){return Promise.resolve().then(()=>this.hasAccessToken?t?this.requestWrapped(e):this.requestWrapped(e).catch(n=>new Promise((r,o)=>{!n||n.code!=="GATEWAY_INVALID_TOKEN"&&n.code!=="InvalidParameter.InvalidToken"?o(n):r()}).then(()=>this.getAccessToken()).then(()=>{const r=this.rebuildRequest(e);return this.request(r,!0)})):this.getAccessToken().then(()=>{const n=this.rebuildRequest(e);return this.request(n,!0)}))}rebuildRequest(e){const t=Object.assign({},e);return t.data.token=this.accessToken,t.header["x-basement-token"]=this.accessToken,t.header["x-serverless-sign"]=Rt.sign(t.data,this.config.clientSecret),t}setupRequest(e,t){const n=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),r={"Content-Type":"application/json"};return t!=="auth"&&(n.token=this.accessToken,r["x-basement-token"]=this.accessToken),r["x-serverless-sign"]=Rt.sign(n,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:r}}getAccessToken(){return this._getAccessTokenPromiseHub.exec()}async authorize(){await this.getAccessToken()}callFunction(e){const t={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:e.name,functionArgs:e.data||{}})};return this.request(this.setupRequest(t))}getOSSUploadOptionsFromPath(e){const t={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}uploadFileToOSS({url:e,formData:t,name:n,filePath:r,fileType:o,onUploadProgress:s}){return new Promise((i,c)=>{const u=this.adapter.uploadFile({url:e,formData:t,name:n,filePath:r,fileType:o,header:{"X-OSS-server-side-encrpytion":"AES256"},success(a){a&&a.statusCode<400?i(a):c(new E({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(a){c(new E({code:a.code||"UPLOAD_FAILED",message:a.message||a.errMsg||"文件上传失败"}))}});typeof s=="function"&&u&&typeof u.onProgressUpdate=="function"&&u.onProgressUpdate(a=>{s({loaded:a.totalBytesSent,total:a.totalBytesExpectedToSend})})})}reportOSSUpload(e){const t={method:"serverless.file.resource.report",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}async uploadFile({filePath:e,cloudPath:t,fileType:n="image",cloudPathAsRealPath:r=!1,onUploadProgress:o,config:s}){if(Do(t)!=="string")throw new E({code:"INVALID_PARAM",message:"cloudPath必须为字符串类型"});if(!(t=t.trim()))throw new E({code:"INVALID_PARAM",message:"cloudPath不可为空"});if(/:\/\//.test(t))throw new E({code:"INVALID_PARAM",message:"cloudPath不合法"});const i=s&&s.envType||this.config.envType;if(r&&(t[0]!=="/"&&(t="/"+t),t.indexOf("\\")>-1))throw new E({code:"INVALID_PARAM",message:"使用cloudPath作为路径时，cloudPath不可包含“\\”"});const c=(await this.getOSSUploadOptionsFromPath({env:i,filename:r?t.split("/").pop():t,fileId:r?t:void 0})).result,u="https://"+c.cdnDomain+"/"+c.ossPath,{securityToken:a,accessKeyId:l,signature:f,host:d,ossPath:h,id:_,policy:g,ossCallbackUrl:p}=c,m={"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:l,Signature:f,host:d,id:_,key:h,policy:g,success_action_status:200};if(a&&(m["x-oss-security-token"]=a),p){const y=JSON.stringify({callbackUrl:p,callbackBody:JSON.stringify({fileId:_,spaceId:this.config.spaceId}),callbackBodyType:"application/json"});m.callback=Rt.toBase64(y)}const v={url:"https://"+c.host,formData:m,fileName:"file",name:"file",filePath:e,fileType:n};if(await this.uploadFileToOSS(Object.assign({},v,{onUploadProgress:o})),p)return{success:!0,filePath:e,fileID:u};if((await this.reportOSSUpload({id:_})).success)return{success:!0,filePath:e,fileID:u};throw new E({code:"UPLOAD_FAILED",message:"文件上传失败"})}getTempFileURL({fileList:e}={}){return new Promise((t,n)=>{Array.isArray(e)&&e.length!==0||n(new E({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"})),t({fileList:e.map(r=>({fileID:r,tempFileURL:r}))})})}async getFileInfo({fileList:e}={}){if(!Array.isArray(e)||e.length===0)throw new E({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const t={method:"serverless.file.resource.info",params:JSON.stringify({id:e.map(n=>n.split("?")[0]).join(",")})};return{fileList:(await this.request(this.setupRequest(t))).result}}},Rm={init(e){const t=new Ya(e),n={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}};const Lm=typeof location<"u"&&location.protocol==="http:"?"http:":"https:";var Hs;(function(e){e.local="local",e.none="none",e.session="session"})(Hs||(Hs={}));var Dm=function(){};const Zt=()=>{let e;if(!Promise){e=()=>{},e.promise={};const n=()=>{throw new E({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(e.promise,"then",{get:n}),Object.defineProperty(e.promise,"catch",{get:n}),e}const t=new Promise((n,r)=>{e=(o,s)=>o?r(o):n(s)});return e.promise=t,e};function Nm(e){return e===void 0}function Mm(e){return Object.prototype.toString.call(e)==="[object Null]"}var Bs;function Um(e){const t=(n=e,Object.prototype.toString.call(n)==="[object Array]"?e:[e]);var n;for(const r of t){const{isMatch:o,genAdapter:s,runtime:i}=r;if(o())return{adapter:s(),runtime:i}}}(function(e){e.WEB="web",e.WX_MP="wx_mp"})(Bs||(Bs={}));const X={adapter:null,runtime:void 0},jm=["anonymousUuidKey"];class pr extends Dm{constructor(){super(),X.adapter.root.tcbObject||(X.adapter.root.tcbObject={})}setItem(t,n){X.adapter.root.tcbObject[t]=n}getItem(t){return X.adapter.root.tcbObject[t]}removeItem(t){delete X.adapter.root.tcbObject[t]}clear(){delete X.adapter.root.tcbObject}}function Ks(e,t){switch(e){case"local":return t.localStorage||new pr;case"none":return new pr;default:return t.sessionStorage||new pr}}class Vs{constructor(t){if(!this._storage){this._persistence=X.adapter.primaryStorage||t.persistence,this._storage=Ks(this._persistence,X.adapter);const n=`access_token_${t.env}`,r=`access_token_expire_${t.env}`,o=`refresh_token_${t.env}`,s=`anonymous_uuid_${t.env}`,i=`login_type_${t.env}`,c=`user_info_${t.env}`;this.keys={accessTokenKey:n,accessTokenExpireKey:r,refreshTokenKey:o,anonymousUuidKey:s,loginTypeKey:i,userInfoKey:c}}}updatePersistence(t){if(t===this._persistence)return;const n=this._persistence==="local";this._persistence=t;const r=Ks(t,X.adapter);for(const o in this.keys){const s=this.keys[o];if(n&&jm.includes(o))continue;const i=this._storage.getItem(s);Nm(i)||Mm(i)||(r.setItem(s,i),this._storage.removeItem(s))}this._storage=r}setStore(t,n,r){if(!this._storage)return;const o={version:r||"localCachev1",content:n},s=JSON.stringify(o);try{this._storage.setItem(t,s)}catch(i){throw i}}getStore(t,n){try{if(!this._storage)return}catch{return""}n=n||"localCachev1";const r=this._storage.getItem(t);return r&&r.indexOf(n)>=0?JSON.parse(r).content:""}removeStore(t){this._storage.removeItem(t)}}const Qa={},Xa={};function en(e){return Qa[e]}class Za{constructor(t,n){this.data=n||null,this.name=t}}class Fm extends Za{constructor(t,n){super("error",{error:t,data:n}),this.error=t}}const Uo=new class{constructor(){this._listeners={}}on(e,t){return function(n,r,o){o[n]=o[n]||[],o[n].push(r)}(e,t,this._listeners),this}off(e,t){return function(n,r,o){if(o&&o[n]){const s=o[n].indexOf(r);s!==-1&&o[n].splice(s,1)}}(e,t,this._listeners),this}fire(e,t){if(e instanceof Fm)return console.error(e.error),this;const n=typeof e=="string"?new Za(e,t||{}):e,r=n.name;if(this._listens(r)){n.target=this;const o=this._listeners[r]?[...this._listeners[r]]:[];for(const s of o)s.call(this,n)}return this}_listens(e){return this._listeners[e]&&this._listeners[e].length>0}};function $e(e,t){Uo.on(e,t)}function re(e,t={}){Uo.fire(e,t)}function qm(e,t){Uo.off(e,t)}const St="loginStateChanged",eu="loginStateExpire",je="loginTypeChanged",Gr="anonymousConverted",tu="refreshAccessToken";var W;(function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL"})(W||(W={}));const Ws=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],Hm={"X-SDK-Version":"1.3.5"};function dr(e,t,n){const r=e[t];e[t]=function(o){const s={},i={};n.forEach(u=>{const{data:a,headers:l}=u.call(e,o);Object.assign(s,a),Object.assign(i,l)});const c=o.data;return c&&(()=>{var u;if(u=c,Object.prototype.toString.call(u)!=="[object FormData]")o.data={...c,...s};else for(const a in s)c.append(a,s[a])})(),o.headers={...o.headers||{},...i},r.call(e,o)}}function hr(){const e=Math.random().toString(16).slice(2);return{data:{seqId:e},headers:{...Hm,"x-seqid":e}}}class Bm{constructor(t={}){var n;this.config=t,this._reqClass=new X.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:`请求在${this.config.timeout/1e3}s内未完成，已中断`,restrictedMethods:["post"]}),this._cache=en(this.config.env),this._localCache=(n=this.config.env,Xa[n]),dr(this._reqClass,"post",[hr]),dr(this._reqClass,"upload",[hr]),dr(this._reqClass,"download",[hr])}async post(t){return await this._reqClass.post(t)}async upload(t){return await this._reqClass.upload(t)}async download(t){return await this._reqClass.download(t)}async refreshAccessToken(){let t,n;this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken());try{t=await this._refreshAccessTokenPromise}catch(r){n=r}if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,n)throw n;return t}async _refreshAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:n,refreshTokenKey:r,loginTypeKey:o,anonymousUuidKey:s}=this._cache.keys;this._cache.removeStore(t),this._cache.removeStore(n);let i=this._cache.getStore(r);if(!i)throw new E({message:"未登录CloudBase"});const c={refresh_token:i},u=await this.request("auth.fetchAccessTokenWithRefreshToken",c);if(u.data.code){const{code:a}=u.data;if(a==="SIGN_PARAM_INVALID"||a==="REFRESH_TOKEN_EXPIRED"||a==="INVALID_REFRESH_TOKEN"){if(this._cache.getStore(o)===W.ANONYMOUS&&a==="INVALID_REFRESH_TOKEN"){const l=this._cache.getStore(s),f=this._cache.getStore(r),d=await this.send("auth.signInAnonymously",{anonymous_uuid:l,refresh_token:f});return this.setRefreshToken(d.refresh_token),this._refreshAccessToken()}re(eu),this._cache.removeStore(r)}throw new E({code:u.data.code,message:`刷新access token失败：${u.data.code}`})}if(u.data.access_token)return re(tu),this._cache.setStore(t,u.data.access_token),this._cache.setStore(n,u.data.access_token_expire+Date.now()),{accessToken:u.data.access_token,accessTokenExpire:u.data.access_token_expire};u.data.refresh_token&&(this._cache.removeStore(r),this._cache.setStore(r,u.data.refresh_token),this._refreshAccessToken())}async getAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:n,refreshTokenKey:r}=this._cache.keys;if(!this._cache.getStore(r))throw new E({message:"refresh token不存在，登录状态异常"});let o=this._cache.getStore(t),s=this._cache.getStore(n),i=!0;return this._shouldRefreshAccessTokenHook&&!await this._shouldRefreshAccessTokenHook(o,s)&&(i=!1),(!o||!s||s<Date.now())&&i?this.refreshAccessToken():{accessToken:o,accessTokenExpire:s}}async request(t,n,r){const o=`x-tcb-trace_${this.config.env}`;let s="application/x-www-form-urlencoded";const i={action:t,env:this.config.env,dataVersion:"2019-08-16",...n};if(Ws.indexOf(t)===-1){const{refreshTokenKey:m}=this._cache.keys;this._cache.getStore(m)&&(i.access_token=(await this.getAccessToken()).accessToken)}let c;if(t==="storage.uploadFile"){c=new FormData;for(let m in c)c.hasOwnProperty(m)&&c[m]!==void 0&&c.append(m,i[m]);s="multipart/form-data"}else{s="application/json",c={};for(let m in i)i[m]!==void 0&&(c[m]=i[m])}let u={headers:{"content-type":s}};r&&r.onUploadProgress&&(u.onUploadProgress=r.onUploadProgress);const a=this._localCache.getStore(o);a&&(u.headers["X-TCB-Trace"]=a);const{parse:l,inQuery:f,search:d}=n;let h={env:this.config.env};l&&(h.parse=!0),f&&(h={...f,...h});let _=function(m,v,y={}){const b=/\?/.test(v);let O="";for(let C in y)O===""?!b&&(v+="?"):O+="&",O+=`${C}=${encodeURIComponent(y[C])}`;return/^http(s)?\:\/\//.test(v+=O)?v:`${m}${v}`}(Lm,"//tcb-api.tencentcloudapi.com/web",h);d&&(_+=d);const g=await this.post({url:_,data:c,...u}),p=g.header&&g.header["x-tcb-trace"];if(p&&this._localCache.setStore(o,p),Number(g.status)!==200&&Number(g.statusCode)!==200||!g.data)throw new E({code:"NETWORK_ERROR",message:"network request error"});return g}async send(t,n={}){const r=await this.request(t,n,{onUploadProgress:n.onUploadProgress});if(r.data.code==="ACCESS_TOKEN_EXPIRED"&&Ws.indexOf(t)===-1){await this.refreshAccessToken();const o=await this.request(t,n,{onUploadProgress:n.onUploadProgress});if(o.data.code)throw new E({code:o.data.code,message:o.data.message});return o.data}if(r.data.code)throw new E({code:r.data.code,message:r.data.message});return r.data}setRefreshToken(t){const{accessTokenKey:n,accessTokenExpireKey:r,refreshTokenKey:o}=this._cache.keys;this._cache.removeStore(n),this._cache.removeStore(r),this._cache.setStore(o,t)}}const nu={};function xe(e){return nu[e]}class Qn{constructor(t){this.config=t,this._cache=en(t.env),this._request=xe(t.env)}setRefreshToken(t){const{accessTokenKey:n,accessTokenExpireKey:r,refreshTokenKey:o}=this._cache.keys;this._cache.removeStore(n),this._cache.removeStore(r),this._cache.setStore(o,t)}setAccessToken(t,n){const{accessTokenKey:r,accessTokenExpireKey:o}=this._cache.keys;this._cache.setStore(r,t),this._cache.setStore(o,n)}async refreshUserInfo(){const{data:t}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(t),t}setLocalUserInfo(t){const{userInfoKey:n}=this._cache.keys;this._cache.setStore(n,t)}}class Km{constructor(t){if(!t)throw new E({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=t,this._cache=en(this._envId),this._request=xe(this._envId),this.setUserInfo()}linkWithTicket(t){if(typeof t!="string")throw new E({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:t})}linkWithRedirect(t){t.signInWithRedirect()}updatePassword(t,n){return this._request.send("auth.updatePassword",{oldPassword:n,newPassword:t})}updateEmail(t){return this._request.send("auth.updateEmail",{newEmail:t})}updateUsername(t){if(typeof t!="string")throw new E({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:t})}async getLinkedUidList(){const{data:t}=await this._request.send("auth.getLinkedUidList",{});let n=!1;const{users:r}=t;return r.forEach(o=>{o.wxOpenId&&o.wxPublicId&&(n=!0)}),{users:r,hasPrimaryUid:n}}setPrimaryUid(t){return this._request.send("auth.setPrimaryUid",{uid:t})}unlink(t){return this._request.send("auth.unlink",{platform:t})}async update(t){const{nickName:n,gender:r,avatarUrl:o,province:s,country:i,city:c}=t,{data:u}=await this._request.send("auth.updateUserInfo",{nickName:n,gender:r,avatarUrl:o,province:s,country:i,city:c});this.setLocalUserInfo(u)}async refresh(){const{data:t}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(t),t}setUserInfo(){const{userInfoKey:t}=this._cache.keys,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach(r=>{this[r]=n[r]}),this.location={country:n.country,province:n.province,city:n.city}}setLocalUserInfo(t){const{userInfoKey:n}=this._cache.keys;this._cache.setStore(n,t),this.setUserInfo()}}class tn{constructor(t){if(!t)throw new E({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=en(t);const{refreshTokenKey:n,accessTokenKey:r,accessTokenExpireKey:o}=this._cache.keys,s=this._cache.getStore(n),i=this._cache.getStore(r),c=this._cache.getStore(o);this.credential={refreshToken:s,accessToken:i,accessTokenExpire:c},this.user=new Km(t)}get isAnonymousAuth(){return this.loginType===W.ANONYMOUS}get isCustomAuth(){return this.loginType===W.CUSTOM}get isWeixinAuth(){return this.loginType===W.WECHAT||this.loginType===W.WECHAT_OPEN||this.loginType===W.WECHAT_PUBLIC}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}class gr extends Qn{async signIn(){this._cache.updatePersistence("local");const{anonymousUuidKey:t,refreshTokenKey:n}=this._cache.keys,r=this._cache.getStore(t)||void 0,o=this._cache.getStore(n)||void 0,s=await this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:o});if(s.uuid&&s.refresh_token){this._setAnonymousUUID(s.uuid),this.setRefreshToken(s.refresh_token),await this._request.refreshAccessToken(),re(St),re(je,{env:this.config.env,loginType:W.ANONYMOUS,persistence:"local"});const i=new tn(this.config.env);return await i.user.refresh(),i}throw new E({message:"匿名登录失败"})}async linkAndRetrieveDataWithTicket(t){const{anonymousUuidKey:n,refreshTokenKey:r}=this._cache.keys,o=this._cache.getStore(n),s=this._cache.getStore(r),i=await this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:o,refresh_token:s,ticket:t});if(i.refresh_token)return this._clearAnonymousUUID(),this.setRefreshToken(i.refresh_token),await this._request.refreshAccessToken(),re(Gr,{env:this.config.env}),re(je,{loginType:W.CUSTOM,persistence:"local"}),{credential:{refreshToken:i.refresh_token}};throw new E({message:"匿名转化失败"})}_setAnonymousUUID(t){const{anonymousUuidKey:n,loginTypeKey:r}=this._cache.keys;this._cache.removeStore(n),this._cache.setStore(n,t),this._cache.setStore(r,W.ANONYMOUS)}_clearAnonymousUUID(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}class zs extends Qn{async signIn(t){if(typeof t!="string")throw new E({code:"PARAM_ERROR",message:"ticket must be a string"});const{refreshTokenKey:n}=this._cache.keys,r=await this._request.send("auth.signInWithTicket",{ticket:t,refresh_token:this._cache.getStore(n)||""});if(r.refresh_token)return this.setRefreshToken(r.refresh_token),await this._request.refreshAccessToken(),re(St),re(je,{env:this.config.env,loginType:W.CUSTOM,persistence:this.config.persistence}),await this.refreshUserInfo(),new tn(this.config.env);throw new E({message:"自定义登录失败"})}}class Js extends Qn{async signIn(t,n){if(typeof t!="string")throw new E({code:"PARAM_ERROR",message:"email must be a string"});const{refreshTokenKey:r}=this._cache.keys,o=await this._request.send("auth.signIn",{loginType:"EMAIL",email:t,password:n,refresh_token:this._cache.getStore(r)||""}),{refresh_token:s,access_token:i,access_token_expire:c}=o;if(s)return this.setRefreshToken(s),i&&c?this.setAccessToken(i,c):await this._request.refreshAccessToken(),await this.refreshUserInfo(),re(St),re(je,{env:this.config.env,loginType:W.EMAIL,persistence:this.config.persistence}),new tn(this.config.env);throw o.code?new E({code:o.code,message:`邮箱登录失败: ${o.message}`}):new E({message:"邮箱登录失败"})}async activate(t){return this._request.send("auth.activateEndUserMail",{token:t})}async resetPasswordWithToken(t,n){return this._request.send("auth.resetPasswordWithToken",{token:t,newPassword:n})}}class Gs extends Qn{async signIn(t,n){if(typeof t!="string")throw new E({code:"PARAM_ERROR",message:"username must be a string"});typeof n!="string"&&(n="",console.warn("password is empty"));const{refreshTokenKey:r}=this._cache.keys,o=await this._request.send("auth.signIn",{loginType:W.USERNAME,username:t,password:n,refresh_token:this._cache.getStore(r)||""}),{refresh_token:s,access_token_expire:i,access_token:c}=o;if(s)return this.setRefreshToken(s),c&&i?this.setAccessToken(c,i):await this._request.refreshAccessToken(),await this.refreshUserInfo(),re(St),re(je,{env:this.config.env,loginType:W.USERNAME,persistence:this.config.persistence}),new tn(this.config.env);throw o.code?new E({code:o.code,message:`用户名密码登录失败: ${o.message}`}):new E({message:"用户名密码登录失败"})}}class Vm{constructor(t){this.config=t,this._cache=en(t.env),this._request=xe(t.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),$e(je,this._onLoginTypeChanged)}get currentUser(){const t=this.hasLoginState();return t&&t.user||null}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}anonymousAuthProvider(){return new gr(this.config)}customAuthProvider(){return new zs(this.config)}emailAuthProvider(){return new Js(this.config)}usernameAuthProvider(){return new Gs(this.config)}async signInAnonymously(){return new gr(this.config).signIn()}async signInWithEmailAndPassword(t,n){return new Js(this.config).signIn(t,n)}signInWithUsernameAndPassword(t,n){return new Gs(this.config).signIn(t,n)}async linkAndRetrieveDataWithTicket(t){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new gr(this.config)),$e(Gr,this._onAnonymousConverted),await this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(t)}async signOut(){if(this.loginType===W.ANONYMOUS)throw new E({message:"匿名用户不支持登出操作"});const{refreshTokenKey:t,accessTokenKey:n,accessTokenExpireKey:r}=this._cache.keys,o=this._cache.getStore(t);if(!o)return;const s=await this._request.send("auth.logout",{refresh_token:o});return this._cache.removeStore(t),this._cache.removeStore(n),this._cache.removeStore(r),re(St),re(je,{env:this.config.env,loginType:W.NULL,persistence:this.config.persistence}),s}async signUpWithEmailAndPassword(t,n){return this._request.send("auth.signUpWithEmailAndPassword",{email:t,password:n})}async sendPasswordResetEmail(t){return this._request.send("auth.sendPasswordResetEmail",{email:t})}onLoginStateChanged(t){$e(St,()=>{const r=this.hasLoginState();t.call(this,r)});const n=this.hasLoginState();t.call(this,n)}onLoginStateExpired(t){$e(eu,t.bind(this))}onAccessTokenRefreshed(t){$e(tu,t.bind(this))}onAnonymousConverted(t){$e(Gr,t.bind(this))}onLoginTypeChanged(t){$e(je,()=>{const n=this.hasLoginState();t.call(this,n)})}async getAccessToken(){return{accessToken:(await this._request.getAccessToken()).accessToken,env:this.config.env}}hasLoginState(){const{refreshTokenKey:t}=this._cache.keys;return this._cache.getStore(t)?new tn(this.config.env):null}async isUsernameRegistered(t){if(typeof t!="string")throw new E({code:"PARAM_ERROR",message:"username must be a string"});const{data:n}=await this._request.send("auth.isUsernameRegistered",{username:t});return n&&n.isRegistered}getLoginState(){return Promise.resolve(this.hasLoginState())}async signInWithTicket(t){return new zs(this.config).signIn(t)}shouldRefreshAccessToken(t){this._request._shouldRefreshAccessTokenHook=t.bind(this)}getUserInfo(){return this._request.send("auth.getUserInfo",{}).then(t=>t.code?t:{...t.data,requestId:t.seqId})}getAuthHeader(){const{refreshTokenKey:t,accessTokenKey:n}=this._cache.keys,r=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+r}}_onAnonymousConverted(t){const{env:n}=t.data;n===this.config.env&&this._cache.updatePersistence(this.config.persistence)}_onLoginTypeChanged(t){const{loginType:n,persistence:r,env:o}=t.data;o===this.config.env&&(this._cache.updatePersistence(r),this._cache.setStore(this._cache.keys.loginTypeKey,n))}}const Wm=function(e,t){t=t||Zt();const n=xe(this.config.env),{cloudPath:r,filePath:o,onUploadProgress:s,fileType:i="image"}=e;return n.send("storage.getUploadMetadata",{path:r}).then(c=>{const{data:{url:u,authorization:a,token:l,fileId:f,cosFileId:d},requestId:h}=c,_={key:r,signature:a,"x-cos-meta-fileid":d,success_action_status:"201","x-cos-security-token":l};n.upload({url:u,data:_,file:o,name:r,fileType:i,onUploadProgress:s}).then(g=>{g.statusCode===201?t(null,{fileID:f,requestId:h}):t(new E({code:"STORAGE_REQUEST_FAIL",message:`STORAGE_REQUEST_FAIL: ${g.data}`}))}).catch(g=>{t(g)})}).catch(c=>{t(c)}),t.promise},zm=function(e,t){t=t||Zt();const n=xe(this.config.env),{cloudPath:r}=e;return n.send("storage.getUploadMetadata",{path:r}).then(o=>{t(null,o)}).catch(o=>{t(o)}),t.promise},Jm=function({fileList:e},t){if(t=t||Zt(),!e||!Array.isArray(e))return{code:"INVALID_PARAM",message:"fileList必须是非空的数组"};for(let r of e)if(!r||typeof r!="string")return{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"};const n={fileid_list:e};return xe(this.config.env).send("storage.batchDeleteFile",n).then(r=>{r.code?t(null,r):t(null,{fileList:r.data.delete_list,requestId:r.requestId})}).catch(r=>{t(r)}),t.promise},ru=function({fileList:e},t){t=t||Zt(),e&&Array.isArray(e)||t(null,{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});let n=[];for(let o of e)typeof o=="object"?(o.hasOwnProperty("fileID")&&o.hasOwnProperty("maxAge")||t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"}),n.push({fileid:o.fileID,max_age:o.maxAge})):typeof o=="string"?n.push({fileid:o}):t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"});const r={file_list:n};return xe(this.config.env).send("storage.batchGetDownloadUrl",r).then(o=>{o.code?t(null,o):t(null,{fileList:o.data.download_list,requestId:o.requestId})}).catch(o=>{t(o)}),t.promise},Gm=async function({fileID:e},t){const n=(await ru.call(this,{fileList:[{fileID:e,maxAge:600}]})).fileList[0];if(n.code!=="SUCCESS")return t?t(n):new Promise(s=>{s(n)});const r=xe(this.config.env);let o=n.download_url;if(o=encodeURI(o),!t)return r.download({url:o});t(await r.download({url:o}))},Ym=function({name:e,data:t,query:n,parse:r,search:o},s){const i=s||Zt();let c;try{c=t?JSON.stringify(t):""}catch(a){return Promise.reject(a)}if(!e)return Promise.reject(new E({code:"PARAM_ERROR",message:"函数名不能为空"}));const u={inQuery:n,parse:r,search:o,function_name:e,request_data:c};return xe(this.config.env).send("functions.invokeFunction",u).then(a=>{if(a.code)i(null,a);else{let l=a.data.response_data;if(r)i(null,{result:l,requestId:a.requestId});else try{l=JSON.parse(a.data.response_data),i(null,{result:l,requestId:a.requestId})}catch{i(new E({message:"response data must be json"}))}}return i.promise}).catch(a=>{i(a)}),i.promise},Ys={timeout:15e3,persistence:"session"},Qs={};class jo{constructor(t){this.config=t||this.config,this.authObj=void 0}init(t){switch(X.adapter||(this.requestClient=new X.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:`请求在${(t.timeout||5e3)/1e3}s内未完成，已中断`})),this.config={...Ys,...t},!0){case this.config.timeout>6e5:console.warn("timeout大于可配置上限[10分钟]，已重置为上限数值"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout小于可配置下限[100ms]，已重置为下限数值"),this.config.timeout=100}return new jo(this.config)}auth({persistence:t}={}){if(this.authObj)return this.authObj;const n=t||X.adapter.primaryStorage||Ys.persistence;var r;return n!==this.config.persistence&&(this.config.persistence=n),function(o){const{env:s}=o;Qa[s]=new Vs(o),Xa[s]=new Vs({...o,persistence:"local"})}(this.config),r=this.config,nu[r.env]=new Bm(r),this.authObj=new Vm(this.config),this.authObj}on(t,n){return $e.apply(this,[t,n])}off(t,n){return qm.apply(this,[t,n])}callFunction(t,n){return Ym.apply(this,[t,n])}deleteFile(t,n){return Jm.apply(this,[t,n])}getTempFileURL(t,n){return ru.apply(this,[t,n])}downloadFile(t,n){return Gm.apply(this,[t,n])}uploadFile(t,n){return Wm.apply(this,[t,n])}getUploadMetadata(t,n){return zm.apply(this,[t,n])}registerExtension(t){Qs[t.name]=t}async invokeExtension(t,n){const r=Qs[t];if(!r)throw new E({message:`扩展${t} 必须先注册`});return await r.invoke(n,this)}useAdapters(t){const{adapter:n,runtime:r}=Um(t)||{};n&&(X.adapter=n),r&&(X.runtime=r)}}var ou=new jo;function Xs(e,t,n){n===void 0&&(n={});var r=/\?/.test(t),o="";for(var s in n)o===""?!r&&(t+="?"):o+="&",o+=s+"="+encodeURIComponent(n[s]);return/^http(s)?:\/\//.test(t+=o)?t:""+e+t}class Qm{post(t){const{url:n,data:r,headers:o}=t;return new Promise((s,i)=>{Z.request({url:Xs("https:",n),data:r,method:"POST",header:o,success(c){s(c)},fail(c){i(c)}})})}upload(t){return new Promise((n,r)=>{const{url:o,file:s,data:i,headers:c,fileType:u}=t,a=Z.uploadFile({url:Xs("https:",o),name:"file",formData:Object.assign({},i),filePath:s,fileType:u,header:c,success(l){const f={statusCode:l.statusCode,data:l.data||{}};l.statusCode===200&&i.success_action_status&&(f.statusCode=parseInt(i.success_action_status,10)),n(f)},fail(l){r(new Error(l.errMsg||"uploadFile:fail"))}});typeof t.onUploadProgress=="function"&&a&&typeof a.onProgressUpdate=="function"&&a.onProgressUpdate(l=>{t.onUploadProgress({loaded:l.totalBytesSent,total:l.totalBytesExpectedToSend})})})}}const Xm={setItem(e,t){Z.setStorageSync(e,t)},getItem:e=>Z.getStorageSync(e),removeItem(e){Z.removeStorageSync(e)},clear(){Z.clearStorageSync()}};var Zm={genAdapter:function(){return{root:{},reqClass:Qm,localStorage:Xm,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};ou.useAdapters(Zm);const Fo=ou,e_=Fo.init;Fo.init=function(e){e.env=e.spaceId;const t=e_.call(this,e);t.config.provider="tencent",t.config.spaceId=e.spaceId;const n=t.auth;return t.auth=function(r){const o=n.call(this,r);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach(s=>{var i;o[s]=(i=o[s],function(c){c=c||{};const{success:u,fail:a,complete:l}=Va(c);if(!(u||a||l))return i.call(this,c);i.call(this,c).then(f=>{u&&u(f),l&&l(f)},f=>{a&&a(f),l&&l(f)})}).bind(o)}),o},t.customAuth=t.auth,t};var Zs=Fo,t_=class extends Ya{getAccessToken(){return new Promise((e,t)=>{const n="Anonymous_Access_token";this.setAccessToken(n),e(n)})}setupRequest(e,t){const n=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),r={"Content-Type":"application/json"};t!=="auth"&&(n.token=this.accessToken,r["x-basement-token"]=this.accessToken),r["x-serverless-sign"]=Rt.sign(n,this.config.clientSecret);const o=Ga();r["x-client-info"]=encodeURIComponent(JSON.stringify(o));const{token:s}=Yn();return r["x-client-token"]=s,{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:JSON.parse(JSON.stringify(r))}}uploadFileToOSS({url:e,formData:t,name:n,filePath:r,fileType:o,onUploadProgress:s}){return new Promise((i,c)=>{const u=this.adapter.uploadFile({url:e,formData:t,name:n,filePath:r,fileType:o,success(a){a&&a.statusCode<400?i(a):c(new E({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(a){c(new E({code:a.code||"UPLOAD_FAILED",message:a.message||a.errMsg||"文件上传失败"}))}});typeof s=="function"&&u&&typeof u.onProgressUpdate=="function"&&u.onProgressUpdate(a=>{s({loaded:a.totalBytesSent,total:a.totalBytesExpectedToSend})})})}uploadFile({filePath:e,cloudPath:t,fileType:n="image",onUploadProgress:r}){if(!t)throw new E({code:"CLOUDPATH_REQUIRED",message:"cloudPath不可为空"});let o;return this.getOSSUploadOptionsFromPath({cloudPath:t}).then(s=>{const{url:i,formData:c,name:u}=s.result;o=s.result.fileUrl;const a={url:i,formData:c,name:u,filePath:e,fileType:n};return this.uploadFileToOSS(Object.assign({},a,{onUploadProgress:r}))}).then(()=>this.reportOSSUpload({cloudPath:t})).then(s=>new Promise((i,c)=>{s.success?i({success:!0,filePath:e,fileID:o}):c(new E({code:"UPLOAD_FAILED",message:"文件上传失败"}))}))}deleteFile({fileList:e}){const t={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(t)).then(n=>{if(n.success)return n.result;throw new E({code:"DELETE_FILE_FAILED",message:"删除文件失败"})})}getTempFileURL({fileList:e}={}){if(!Array.isArray(e)||e.length===0)throw new E({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const t={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(t)).then(n=>{if(n.success)return{fileList:n.result.fileList.map(r=>({fileID:r.fileID,tempFileURL:r.tempFileURL}))};throw new E({code:"GET_TEMP_FILE_URL_FAILED",message:"获取临时文件链接失败"})})}},n_={init(e){const t=new t_(e),n={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}};function su({data:e}){let t;t=Ga();const n=JSON.parse(JSON.stringify(e||{}));if(Object.assign(n,{clientInfo:t}),!n.uniIdToken){const{token:r}=Yn();r&&(n.uniIdToken=r)}return n}async function ei({name:e,data:t}={}){await this.__dev__.initLocalNetwork();const{localAddress:n,localPort:r}=this.__dev__,o={aliyun:"aliyun",tencent:"tcb"}[this.config.provider],s=this.config.spaceId,i=`http://${n}:${r}/system/check-function`,c=`http://${n}:${r}/cloudfunctions/${e}`;return new Promise((u,a)=>{Z.request({method:"POST",url:i,data:{name:e,platform:vt,provider:o,spaceId:s},timeout:3e3,success(l){u(l)},fail(){u({data:{code:"NETWORK_ERROR",message:"连接本地调试服务失败，请检查客户端是否和主机在同一局域网下，自动切换为已部署的云函数。"}})}})}).then(({data:u}={})=>{const{code:a,message:l}=u||{};return{code:a===0?0:a||"SYS_ERR",message:l||"SYS_ERR"}}).then(({code:u,message:a})=>{if(u!==0){switch(u){case"MODULE_ENCRYPTED":console.error(`此云函数（${e}）依赖加密公共模块不可本地调试，自动切换为云端已部署的云函数`);break;case"FUNCTION_ENCRYPTED":console.error(`此云函数（${e}）已加密不可本地调试，自动切换为云端已部署的云函数`);break;case"ACTION_ENCRYPTED":console.error(a||"需要访问加密的uni-clientDB-action，自动切换为云端环境");break;case"NETWORK_ERROR":{const l="连接本地调试服务失败，请检查客户端是否和主机在同一局域网下";throw console.error(l),new Error(l)}case"SWITCH_TO_CLOUD":break;default:{const l=`检测本地调试服务出现错误：${a}，请检查网络环境或重启客户端再试`;throw console.error(l),new Error(l)}}return this._callCloudFunction({name:e,data:t})}return new Promise((l,f)=>{const d=su.call(this,{data:t});Z.request({method:"POST",url:c,data:{provider:o,platform:vt,param:d},success:({statusCode:h,data:_}={})=>!h||h>=400?f(new E({code:_.code||"SYS_ERR",message:_.message||"request:fail"})):l({result:_}),fail(h){f(new E({code:h.code||h.errCode||"SYS_ERR",message:h.message||h.errMsg||"request:fail"}))}})})})}const r_=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"，云函数[{functionName}]在云端不存在，请检查此云函数名称是否正确以及该云函数是否已上传到服务空间",mode:"append"}];var iu=/[\\^$.*+?()[\]{}|]/g,o_=RegExp(iu.source);function ti(e,t,n){return e.replace(new RegExp((r=t)&&o_.test(r)?r.replace(iu,"\\$&"):r,"g"),n);var r}const s_="request",i_="response",c_="both",a_={code:2e4,message:"System error"},u_={code:20101,message:"Invalid client"};function cu(e){const{errSubject:t,subject:n,errCode:r,errMsg:o,code:s,message:i,cause:c}=e||{};return new E({subject:t||n||"uni-secure-network",code:r||s||a_.code,message:o||i,cause:c})}let Yr;function ni({secretType:e}={}){return e===s_||e===i_||e===c_}function ri({name:e,data:t={}}={}){return vt==="app"}function l_({provider:e,spaceId:t,functionName:n}={}){const{appId:r,uniPlatform:o,osName:s}=Ja();let i=o;o==="app"&&(i=s);const c=function({provider:f,spaceId:d}={}){const h=Pm;if(!h)return{};f=function(g){return g==="tencent"?"tcb":g}(f);const _=h.find(g=>g.provider===f&&g.spaceId===d);return _&&_.config}({provider:e,spaceId:t});if(!c||!c.accessControl||!c.accessControl.enable)return!1;const u=c.accessControl.function||{},a=Object.keys(u);if(a.length===0)return!0;const l=function(f,d){let h,_,g;for(let p=0;p<f.length;p++){const m=f[p];m!==d?m!=="*"?m.split(",").map(v=>v.trim()).indexOf(d)>-1&&(_=m):g=m:h=m}return h||_||g}(a,n);if(!l)return!1;if((u[l]||[]).find((f={})=>f.appId===r&&(f.platform||"").toLowerCase()===i.toLowerCase()))return!0;throw console.error(`此应用[appId: ${r}, platform: ${i}]不在云端配置的允许访问的应用列表内，参考：https://uniapp.dcloud.net.cn/uniCloud/secure-network.html#verify-client`),cu(u_)}function oi({functionName:e,result:t,logPvd:n}){if(this.__dev__.debugLog&&t&&t.requestId){const r=JSON.stringify({spaceId:this.config.spaceId,functionName:e,requestId:t.requestId});console.log(`[${n}-request]${r}[/${n}-request]`)}}function f_(e){const t=e.callFunction,n=function(r){const o=r.name;r.data=su.call(e,{data:r.data});const s={aliyun:"aliyun",tencent:"tcb",tcb:"tcb"}[this.config.provider],i=ni(r),c=ri(r),u=i||c;return t.call(this,r).then(a=>(a.errCode=0,!u&&oi.call(this,{functionName:o,result:a,logPvd:s}),Promise.resolve(a)),a=>(!u&&oi.call(this,{functionName:o,result:a,logPvd:s}),a&&a.message&&(a.message=function({message:l="",extraInfo:f={},formatter:d=[]}={}){for(let h=0;h<d.length;h++){const{rule:_,content:g,mode:p}=d[h],m=l.match(_);if(!m)continue;let v=g;for(let y=1;y<m.length;y++)v=ti(v,`{$${y}}`,m[y]);for(const y in f)v=ti(v,`{${y}}`,f[y]);return p==="replace"?v:l+v}return l}({message:`[${r.name}]: ${a.message}`,formatter:r_,extraInfo:{functionName:o}})),Promise.reject(a)))};e.callFunction=function(r){const{provider:o,spaceId:s}=e.config,i=r.name;let c,u;return r.data=r.data||{},e.__dev__.debugInfo&&!e.__dev__.debugInfo.forceRemote&&qa?(e._callCloudFunction||(e._callCloudFunction=n,e._callLocalFunction=ei),c=ei):c=n,c=c.bind(e),ri(r)||(function({name:a,data:l={}}){return a==="uni-id-co"&&l.method==="secureNetworkHandshakeByWeixin"}(r)?u=c.call(e,r):ni(r)?u=new Yr({secretType:r.secretType,uniCloudIns:e}).wrapEncryptDataCallFunction(n.bind(e))(r):l_({provider:o,spaceId:s,functionName:i})?u=new Yr({secretType:r.secretType,uniCloudIns:e}).wrapVerifyClientCallFunction(n.bind(e))(r):u=c(r)),Object.defineProperty(u,"result",{get:()=>(console.warn("当前返回结果为Promise类型，不可直接访问其result属性，详情请参考：https://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{})}),u}}Yr=class{constructor(){throw cu({message:`Platform ${vt} is not enabled, please check whether secure network module is enabled in your manifest.json`})}};const au=Symbol("CLIENT_DB_INTERNAL");function Ln(e,t){return e.then="DoNotReturnProxyWithAFunctionNamedThen",e._internalType=au,e.inspect=null,e.__v_raw=void 0,new Proxy(e,{get(n,r,o){if(r==="_uniClient")return null;if(typeof r=="symbol")return n[r];if(r in n||typeof r!="string"){const s=n[r];return typeof s=="function"?s.bind(n):s}return t.get(n,r,o)}})}function si(e){return{on:(t,n)=>{e[t]=e[t]||[],e[t].indexOf(n)>-1||e[t].push(n)},off:(t,n)=>{e[t]=e[t]||[];const r=e[t].indexOf(n);r!==-1&&e[t].splice(r,1)}}}const p_=["db.Geo","db.command","command.aggregate"];function uu(e,t){return p_.indexOf(`${e}.${t}`)>-1}function et(e){switch(Do(e=Wa(e))){case"array":return e.map(t=>et(t));case"object":return e._internalType===au||Object.keys(e).forEach(t=>{e[t]=et(e[t])}),e;case"regexp":return{$regexp:{source:e.source,flags:e.flags}};case"date":return{$date:e.toISOString()};default:return e}}function Et(e){return e&&e.content&&e.content.$method}class d_{constructor(t,n,r){this.content=t,this.prevStage=n||null,this.udb=null,this._database=r}toJSON(){let t=this;const n=[t.content];for(;t.prevStage;)t=t.prevStage,n.push(t.content);return{$db:n.reverse().map(r=>({$method:r.$method,$param:et(r.$param)}))}}toString(){return JSON.stringify(this.toJSON())}getAction(){const t=this.toJSON().$db.find(n=>n.$method==="action");return t&&t.$param&&t.$param[0]}getCommand(){return{$db:this.toJSON().$db.filter(t=>t.$method!=="action")}}get isAggregate(){let t=this;for(;t;){const n=Et(t),r=Et(t.prevStage);if(n==="aggregate"&&r==="collection"||n==="pipeline")return!0;t=t.prevStage}return!1}get isCommand(){let t=this;for(;t;){if(Et(t)==="command")return!0;t=t.prevStage}return!1}get isAggregateCommand(){let t=this;for(;t;){const n=Et(t),r=Et(t.prevStage);if(n==="aggregate"&&r==="command")return!0;t=t.prevStage}return!1}getNextStageFn(t){const n=this;return function(){return Wt({$method:t,$param:et(Array.from(arguments))},n,n._database)}}get count(){return this.isAggregate?this.getNextStageFn("count"):function(){return this._send("count",Array.from(arguments))}}get remove(){return this.isCommand?this.getNextStageFn("remove"):function(){return this._send("remove",Array.from(arguments))}}get(){return this._send("get",Array.from(arguments))}get add(){return this.isCommand?this.getNextStageFn("add"):function(){return this._send("add",Array.from(arguments))}}update(){return this._send("update",Array.from(arguments))}end(){return this._send("end",Array.from(arguments))}get set(){return this.isCommand?this.getNextStageFn("set"):function(){throw new Error("JQL禁止使用set方法")}}_send(t,n){const r=this.getAction(),o=this.getCommand();if(o.$db.push({$method:t,$param:et(n)}),Tm){const s=o.$db.find(c=>c.$method==="collection"),i=s&&s.$param;i&&i.length===1&&typeof s.$param[0]=="string"&&s.$param[0].indexOf(",")>-1&&console.warn(`检测到使用JQL语法联表查询时，未使用getTemp先过滤主表数据，在主表数据量大的情况下可能会查询缓慢。
- 如何优化请参考此文档：https://uniapp.dcloud.net.cn/uniCloud/jql?id=lookup-with-temp 
- 如果主表数据量很小请忽略此信息，项目发行时不会出现此提示。`)}return this._database._callCloudFunction({action:r,command:o})}}function Wt(e,t,n){return Ln(new d_(e,t,n),{get(r,o){let s="db";return r&&r.content&&(s=r.content.$method),uu(s,o)?Wt({$method:o},r,n):function(){return Wt({$method:o,$param:et(Array.from(arguments))},r,n)}}})}function mr({path:e,method:t}){return class{constructor(){this.param=Array.from(arguments)}toJSON(){return{$newDb:[...e.map(n=>({$method:n})),{$method:t,$param:this.param}]}}toString(){return JSON.stringify(this.toJSON())}}}function ii(e,t={}){return Ln(new e(t),{get:(n,r)=>uu("db",r)?Wt({$method:r},null,n):function(){return Wt({$method:r,$param:et(Array.from(arguments))},null,n)}})}class ci extends class{constructor({uniClient:t={},isJQL:n=!1}={}){this._uniClient=t,this._authCallBacks={},this._dbCallBacks={},t._isDefault&&(this._dbCallBacks=bt("_globalUniCloudDatabaseCallback")),n||(this.auth=si(this._authCallBacks)),this._isJQL=n,Object.assign(this,si(this._dbCallBacks)),this.env=Ln({},{get:(r,o)=>({$env:o})}),this.Geo=Ln({},{get:(r,o)=>mr({path:["Geo"],method:o})}),this.serverDate=mr({path:[],method:"serverDate"}),this.RegExp=mr({path:[],method:"RegExp"})}getCloudEnv(t){if(typeof t!="string"||!t.trim())throw new Error("getCloudEnv参数错误");return{$env:t.replace("$cloudEnv_","")}}_callback(t,n){const r=this._dbCallBacks;r[t]&&r[t].forEach(o=>{o(...n)})}_callbackAuth(t,n){const r=this._authCallBacks;r[t]&&r[t].forEach(o=>{o(...n)})}multiSend(){const t=Array.from(arguments),n=t.map(r=>{const o=r.getAction(),s=r.getCommand();if(s.$db[s.$db.length-1].$method!=="getTemp")throw new Error("multiSend只支持子命令内使用getTemp");return{action:o,command:s}});return this._callCloudFunction({multiCommand:n,queryList:t})}}{_parseResult(t){return this._isJQL?t.result:t}_callCloudFunction({action:t,command:n,multiCommand:r,queryList:o}){function s(f,d){if(r&&o)for(let h=0;h<o.length;h++){const _=o[h];_.udb&&typeof _.udb.setResult=="function"&&(d?_.udb.setResult(d):_.udb.setResult(f.result.dataList[h]))}}const i=this,c=this._isJQL?"databaseForJQL":"database";function u(f){return i._callback("error",[f]),te(ne(c,"fail"),f).then(()=>te(ne(c,"complete"),f)).then(()=>(s(null,f),ae(Se,{type:js,content:f}),Promise.reject(f)))}const a=te(ne(c,"invoke")),l=this._uniClient;return a.then(()=>l.callFunction({name:"DCloud-clientDB",type:wm,data:{action:t,command:n,multiCommand:r}})).then(f=>{const{code:d,message:h,token:_,tokenExpired:g,systemInfo:p=[]}=f.result;if(p)for(let v=0;v<p.length;v++){const{level:y,message:b,detail:O}=p[v],C=console[y]||console.log;let N="[System Info]"+b;O&&(N=`${N}
详细信息：${O}`),C(N)}if(d)return u(new E({code:d,message:h,requestId:f.requestId}));f.result.errCode=f.result.errCode||f.result.code,f.result.errMsg=f.result.errMsg||f.result.message,_&&g&&(za({token:_,tokenExpired:g}),this._callbackAuth("refreshToken",[{token:_,tokenExpired:g}]),this._callback("refreshToken",[{token:_,tokenExpired:g}]),ae(Rn,{token:_,tokenExpired:g}));const m=[{prop:"affectedDocs",tips:"affectedDocs不再推荐使用，请使用inserted/deleted/updated/data.length替代"},{prop:"code",tips:"code不再推荐使用，请使用errCode替代"},{prop:"message",tips:"message不再推荐使用，请使用errMsg替代"}];for(let v=0;v<m.length;v++){const{prop:y,tips:b}=m[v];if(y in f.result){const O=f.result[y];Object.defineProperty(f.result,y,{get:()=>(console.warn(b),O)})}}return function(v){return te(ne(c,"success"),v).then(()=>te(ne(c,"complete"),v)).then(()=>{s(v,null);const y=i._parseResult(v);return ae(Se,{type:js,content:y}),Promise.resolve(y)})}(f)},f=>(/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(f.message)&&console.warn("clientDB未初始化，请在web控制台保存一次schema以开启clientDB"),u(new E({code:f.code||"SYSTEM_ERROR",message:f.message,requestId:f.requestId}))))}}const Je="token无效，跳转登录页面",lu="token过期，跳转登录页面",h_={TOKEN_INVALID_TOKEN_EXPIRED:lu,TOKEN_INVALID_INVALID_CLIENTID:Je,TOKEN_INVALID:Je,TOKEN_INVALID_WRONG_TOKEN:Je,TOKEN_INVALID_ANONYMOUS_USER:Je},Qr={"uni-id-token-expired":lu,"uni-id-check-token-failed":Je,"uni-id-token-not-exist":Je,"uni-id-check-device-feature-failed":Je};function ai(e,t){let n="";return n=e?`${e}/${t}`:t,n.replace(/^\//,"")}function ui(e=[],t=""){const n=[],r=[];return e.forEach(o=>{o.needLogin===!0?n.push(ai(t,o.path)):o.needLogin===!1&&r.push(ai(t,o.path))}),{needLoginPage:n,notNeedLoginPage:r}}function zt(e){return e.split("?")[0].replace(/^\//,"")}function qo(){return function(e){let t=e&&e.$page&&e.$page.fullPath||"";return t&&(t.charAt(0)!=="/"&&(t="/"+t),t)}(function(){const e=getCurrentPages();return e[e.length-1]}())}function fu(){return zt(qo())}function g_(e="",t={}){if(!e||!(t&&t.list&&t.list.length))return!1;const n=t.list,r=zt(e);return n.some(o=>o.pagePath===r)}const m_=!!Ma.uniIdRouter,{loginPage:Jt,routerNeedLogin:__,resToLogin:y_,needLoginPage:pu,notNeedLoginPage:v_,loginPageInTabBar:b_}=function({pages:e=[],subPackages:t=[],uniIdRouter:n={},tabBar:r={}}=Ma){const{loginPage:o,needLogin:s=[],resToLogin:i=!0}=n,{needLoginPage:c,notNeedLoginPage:u}=ui(e),{needLoginPage:a,notNeedLoginPage:l}=function(f=[]){const d=[],h=[];return f.forEach(_=>{const{root:g,pages:p=[]}=_,{needLoginPage:m,notNeedLoginPage:v}=ui(p,g);d.push(...m),h.push(...v)}),{needLoginPage:d,notNeedLoginPage:h}}(t);return{loginPage:o,routerNeedLogin:s,resToLogin:i,needLoginPage:[...c,...a],notNeedLoginPage:[...u,...l],loginPageInTabBar:g_(o,r)}}();if(pu.indexOf(Jt)>-1)throw new Error(`Login page [${Jt}] should not be "needLogin", please check your pages.json`);function du(e){const t=fu();if(e.charAt(0)==="/")return e;const[n,r]=e.split("?"),o=n.replace(/^\//,"").split("/"),s=t.split("/");s.pop();for(let i=0;i<o.length;i++){const c=o[i];c===".."?s.pop():c!=="."&&s.push(c)}return s[0]===""&&s.shift(),"/"+s.join("/")+(r?"?"+r:"")}function w_(e){const t=zt(du(e));return!(v_.indexOf(t)>-1)&&(pu.indexOf(t)>-1||__.some(n=>function(r,o){return new RegExp(o).test(r)}(e,n)))}function hu({redirect:e}){const t=zt(e),n=zt(Jt);return fu()!==n&&t!==n}function Xr({api:e,redirect:t}={}){if(!t||!hu({redirect:t}))return;const n=function(o,s){return o.charAt(0)!=="/"&&(o="/"+o),s?o.indexOf("?")>-1?o+`&uniIdRedirectUrl=${encodeURIComponent(s)}`:o+`?uniIdRedirectUrl=${encodeURIComponent(s)}`:o}(Jt,t);b_?e!=="navigateTo"&&e!=="redirectTo"||(e="switchTab"):e==="switchTab"&&(e="navigateTo");const r={navigateTo:S.navigateTo,redirectTo:S.redirectTo,switchTab:S.switchTab,reLaunch:S.reLaunch};setTimeout(()=>{r[e]({url:n})})}function li({url:e}={}){const t={abortLoginPageJump:!1,autoToLoginPage:!1},n=function(){const{token:r,tokenExpired:o}=Yn();let s;if(r){if(o<Date.now()){const i="uni-id-token-expired";s={errCode:i,errMsg:Qr[i]}}}else{const i="uni-id-check-token-failed";s={errCode:i,errMsg:Qr[i]}}return s}();if(w_(e)&&n){if(n.uniIdRedirectUrl=e,Xt(wt).length>0)return setTimeout(()=>{ae(wt,n)},0),t.abortLoginPageJump=!0,t;t.autoToLoginPage=!0}return t}function S_(){(function(){const t=qo(),{abortLoginPageJump:n,autoToLoginPage:r}=li({url:t});n||r&&Xr({api:"redirectTo",redirect:t})})();const e=["navigateTo","redirectTo","reLaunch","switchTab"];for(let t=0;t<e.length;t++){const n=e[t];S.addInterceptor(n,{invoke(r){const{abortLoginPageJump:o,autoToLoginPage:s}=li({url:r.url});return o?r:s?(Xr({api:n,redirect:du(r.url)}),!1):r}})}}function I_(){this.onResponse(e=>{const{type:t,content:n}=e;let r=!1;switch(t){case"cloudobject":r=function(o){if(typeof o!="object")return!1;const{errCode:s}=o||{};return s in Qr}(n);break;case"clientdb":r=function(o){if(typeof o!="object")return!1;const{errCode:s}=o||{};return s in h_}(n)}r&&function(o={}){const s=Xt(wt);Ka().then(()=>{const i=qo();if(i&&hu({redirect:i}))return s.length>0?ae(wt,Object.assign({uniIdRedirectUrl:i},o)):void(Jt&&Xr({api:"navigateTo",redirect:i}))})}(n)})}function T_(e){(function(t){t.onResponse=function(n){cr(Se,n)},t.offResponse=function(n){ar(Se,n)}})(e),function(t){t.onNeedLogin=function(n){cr(wt,n)},t.offNeedLogin=function(n){ar(wt,n)},m_&&(bt("_globalUniCloudStatus").needLoginInit||(bt("_globalUniCloudStatus").needLoginInit=!0,Ka().then(()=>{S_.call(t)}),y_&&I_.call(t)))}(e),function(t){t.onRefreshToken=function(n){cr(Rn,n)},t.offRefreshToken=function(n){ar(Rn,n)}}(e)}let gu;const pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",A_=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function P_(){const e=Yn().token||"",t=e.split(".");if(!e||t.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let n;try{n=JSON.parse((r=t[1],decodeURIComponent(gu(r).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch(o){throw new Error("获取当前用户信息出错，详细错误信息为："+o.message)}var r;return n.tokenExpired=1e3*n.exp,delete n.exp,delete n.iat,n}gu=typeof atob!="function"?function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!A_.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var n,r,o="",s=0;s<e.length;)t=pn.indexOf(e.charAt(s++))<<18|pn.indexOf(e.charAt(s++))<<12|(n=pn.indexOf(e.charAt(s++)))<<6|(r=pn.indexOf(e.charAt(s++))),o+=n===64?String.fromCharCode(t>>16&255):r===64?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return o}:atob;var O_=Ze(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n="chooseAndUploadFile:ok",r="chooseAndUploadFile:fail";function o(i,c){return i.tempFiles.forEach((u,a)=>{u.name||(u.name=u.path.substring(u.path.lastIndexOf("/")+1)),c&&(u.fileType=c),u.cloudPath=Date.now()+"_"+a+u.name.substring(u.name.lastIndexOf("."))}),i.tempFilePaths||(i.tempFilePaths=i.tempFiles.map(u=>u.path)),i}function s(i,c,{onChooseFile:u,onUploadProgress:a}){return c.then(l=>{if(u){const f=u(l);if(f!==void 0)return Promise.resolve(f).then(d=>d===void 0?l:d)}return l}).then(l=>l===!1?{errMsg:n,tempFilePaths:[],tempFiles:[]}:function(f,d,h=5,_){(d=Object.assign({},d)).errMsg=n;const g=d.tempFiles,p=g.length;let m=0;return new Promise(v=>{for(;m<h;)y();function y(){const b=m++;if(b>=p)return void(!g.find(C=>!C.url&&!C.errMsg)&&v(d));const O=g[b];f.uploadFile({filePath:O.path,cloudPath:O.cloudPath,fileType:O.fileType,onUploadProgress(C){C.index=b,C.tempFile=O,C.tempFilePath=O.path,_&&_(C)}}).then(C=>{O.url=C.fileID,b<p&&y()}).catch(C=>{O.errMsg=C.errMsg||C.message,b<p&&y()})}})}(i,l,5,a))}t.initChooseAndUploadFile=function(i){return function(c={type:"all"}){return c.type==="image"?s(i,function(u){const{count:a,sizeType:l,sourceType:f=["album","camera"],extension:d}=u;return new Promise((h,_)=>{S.chooseImage({count:a,sizeType:l,sourceType:f,extension:d,success(g){h(o(g,"image"))},fail(g){_({errMsg:g.errMsg.replace("chooseImage:fail",r)})}})})}(c),c):c.type==="video"?s(i,function(u){const{camera:a,compressed:l,maxDuration:f,sourceType:d=["album","camera"],extension:h}=u;return new Promise((_,g)=>{S.chooseVideo({camera:a,compressed:l,maxDuration:f,sourceType:d,extension:h,success(p){const{tempFilePath:m,duration:v,size:y,height:b,width:O}=p;_(o({errMsg:"chooseVideo:ok",tempFilePaths:[m],tempFiles:[{name:p.tempFile&&p.tempFile.name||"",path:m,size:y,type:p.tempFile&&p.tempFile.type||"",width:O,height:b,duration:v,fileType:"video",cloudPath:""}]},"video"))},fail(p){g({errMsg:p.errMsg.replace("chooseVideo:fail",r)})}})})}(c),c):s(i,function(u){const{count:a,extension:l}=u;return new Promise((f,d)=>{let h=S.chooseFile;if(typeof Dt<"u"&&typeof Dt.chooseMessageFile=="function"&&(h=Dt.chooseMessageFile),typeof h!="function")return d({errMsg:r+" 请指定 type 类型，该平台仅支持选择 image 或 video。"});h({type:"all",count:a,extension:l,success(_){f(o(_))},fail(_){d({errMsg:_.errMsg.replace("chooseFile:fail",r)})}})})}(c),c)}}}),x_=gm(O_);const C_="manual";function mu(e){return{props:{localdata:{type:Array,default:()=>[]},options:{type:[Object,Array],default:()=>({})},spaceInfo:{type:Object,default:()=>({})},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:()=>({mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}),created(){this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch(()=>{var t=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach(n=>{t.push(this[n])}),t},(t,n)=>{if(this.loadtime===C_)return;let r=!1;const o=[];for(let s=2;s<t.length;s++)t[s]!==n[s]&&(o.push(t[s]),r=!0);t[0]!==n[0]&&(this.mixinDatacomPage.current=this.pageCurrent),this.mixinDatacomPage.size=this.pageSize,this.onMixinDatacomPropsChange(r,o)})},methods:{onMixinDatacomPropsChange(t,n){},mixinDatacomEasyGet({getone:t=!1,success:n,fail:r}={}){this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then(o=>{this.mixinDatacomLoading=!1;const{data:s,count:i}=o.result;this.getcount&&(this.mixinDatacomPage.count=i),this.mixinDatacomHasMore=s.length<this.pageSize;const c=t?s.length?s[0]:void 0:s;this.mixinDatacomResData=c,n&&n(c)}).catch(o=>{this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=o,r&&r(o)}))},mixinDatacomGet(t={}){let n=e.database(this.spaceInfo);const r=t.action||this.action;r&&(n=n.action(r));const o=t.collection||this.collection;n=Array.isArray(o)?n.collection(...o):n.collection(o);const s=t.where||this.where;s&&Object.keys(s).length&&(n=n.where(s));const i=t.field||this.field;i&&(n=n.field(i));const c=t.foreignKey||this.foreignKey;c&&(n=n.foreignKey(c));const u=t.groupby||this.groupby;u&&(n=n.groupBy(u));const a=t.groupField||this.groupField;a&&(n=n.groupField(a)),(t.distinct!==void 0?t.distinct:this.distinct)===!0&&(n=n.distinct());const l=t.orderby||this.orderby;l&&(n=n.orderBy(l));const f=t.pageCurrent!==void 0?t.pageCurrent:this.mixinDatacomPage.current,d=t.pageSize!==void 0?t.pageSize:this.mixinDatacomPage.size,h=t.getcount!==void 0?t.getcount:this.getcount,_=t.gettree!==void 0?t.gettree:this.gettree,g=t.gettreepath!==void 0?t.gettreepath:this.gettreepath,p={getCount:h},m={limitLevel:t.limitlevel!==void 0?t.limitlevel:this.limitlevel,startWith:t.startwith!==void 0?t.startwith:this.startwith};return _&&(p.getTree=m),g&&(p.getTreePath=m),n=n.skip(d*(f-1)).limit(d).get(p),n}}}}function E_(e){return function(t,n={}){n=function(u,a={}){return u.customUI=a.customUI||u.customUI,u.parseSystemError=a.parseSystemError||u.parseSystemError,Object.assign(u.loadingOptions,a.loadingOptions),Object.assign(u.errorOptions,a.errorOptions),typeof a.secretMethods=="object"&&(u.secretMethods=a.secretMethods),u}({customUI:!1,loadingOptions:{title:"加载中...",mask:!0},errorOptions:{type:"modal",retry:!1}},n);const{customUI:r,loadingOptions:o,errorOptions:s,parseSystemError:i}=n,c=!r;return new Proxy({},{get:(u,a)=>function({fn:l,interceptorName:f,getCallbackArgs:d}={}){return async function(...h){const _=d?d({params:h}):{};let g,p;try{return await te(ne(f,"invoke"),{..._}),g=await l(...h),await te(ne(f,"success"),{..._,result:g}),g}catch(m){throw p=m,await te(ne(f,"fail"),{..._,error:p}),p}finally{await te(ne(f,"complete"),p?{..._,error:p}:{..._,result:g})}}}({fn:async function l(...f){let d;c&&S.showLoading({title:o.title,mask:o.mask});const h={name:t,type:bm,data:{method:a,params:f}};typeof n.secretMethods=="object"&&function(y,b){const O=b.data.method,C=y.secretMethods||{},N=C[O]||C["*"];N&&(b.secretType=N)}(n,h);let _=!1;try{d=await e.callFunction(h)}catch(y){_=!0,d={result:new E(y)}}const{errSubject:g,errCode:p,errMsg:m,newToken:v}=d.result||{};if(c&&S.hideLoading(),v&&v.token&&v.tokenExpired&&(za(v),ae(Rn,{...v})),p){let y=m;if(_&&i&&(y=(await i({objectName:t,methodName:a,params:f,errSubject:g,errCode:p,errMsg:m})).errMsg||m),c)if(s.type==="toast")S.showToast({title:y,icon:"none"});else{if(s.type!=="modal")throw new Error(`Invalid errorOptions.type: ${s.type}`);{const{confirm:O}=await async function({title:C,content:N,showCancel:q,cancelText:ie,confirmText:he}={}){return new Promise((ge,Ce)=>{S.showModal({title:C,content:N,showCancel:q,cancelText:ie,confirmText:he,success(Te){ge(Te)},fail(){ge({confirm:!1,cancel:!0})}})})}({title:"提示",content:y,showCancel:s.retry,cancelText:"取消",confirmText:s.retry?"重试":"确定"});if(s.retry&&O)return l(...f)}}const b=new E({subject:g,code:p,message:m,requestId:d.requestId});throw b.detail=d.result,ae(Se,{type:Fs,content:b}),b}return ae(Se,{type:Fs,content:d.result}),d.result},interceptorName:"callObject",getCallbackArgs:function({params:l}={}){return{objectName:t,methodName:a,params:l}}})})}}function _u(e){return bt("_globalUniCloudSecureNetworkCache__{spaceId}".replace("{spaceId}",e.config.spaceId))}async function k_({openid:e,callLoginByWeixin:t=!1}={}){const n=_u(this);if(e&&t)throw new Error("[SecureNetwork] openid and callLoginByWeixin cannot be passed at the same time");if(e)return n.mpWeixinOpenid=e,{};const r=await new Promise((s,i)=>{S.login({success(c){s(c.code)},fail(c){i(new Error(c.errMsg))}})});return await this.importObject("uni-id-co",{customUI:!0}).secureNetworkHandshakeByWeixin({code:r,callLoginByWeixin:t}),n.mpWeixinCode=r,{code:r}}async function $_(e){const t=_u(this);return t.initPromise||(t.initPromise=k_.call(this,e)),t.initPromise}function R_(e){return function({openid:t,callLoginByWeixin:n=!1}={}){return $_.call(e,{openid:t,callLoginByWeixin:n})}}function fi(e){const t={getSystemInfo:S.getSystemInfo,getPushClientId:S.getPushClientId};return function(n){return new Promise((r,o)=>{t[e]({...n,success(s){r(s)},fail(s){o(s)}})})}}class L_ extends class{constructor(){this._callback={}}addListener(t,n){this._callback[t]||(this._callback[t]=[]),this._callback[t].push(n)}on(t,n){return this.addListener(t,n)}removeListener(t,n){if(!n)throw new Error('The "listener" argument must be of type function. Received undefined');const r=this._callback[t];if(!r)return;const o=function(s,i){for(let c=s.length-1;c>=0;c--)if(s[c]===i)return c;return-1}(r,n);r.splice(o,1)}off(t,n){return this.removeListener(t,n)}removeAllListener(t){delete this._callback[t]}emit(t,...n){const r=this._callback[t];if(r)for(let o=0;o<r.length;o++)r[o](...n)}}{constructor(){super(),this._uniPushMessageCallback=this._receivePushMessage.bind(this),this._currentMessageId=-1,this._payloadQueue=[]}init(){return Promise.all([fi("getSystemInfo")(),fi("getPushClientId")()]).then(([{appId:t}={},{cid:n}={}]=[])=>{if(!t)throw new Error("Invalid appId, please check the manifest.json file");if(!n)throw new Error("Invalid push client id");this._appId=t,this._pushClientId=n,this._seqId=Date.now()+"-"+Math.floor(9e5*Math.random()+1e5),this.emit("open"),this._initMessageListener()},t=>{throw this.emit("error",t),this.close(),t})}async open(){return this.init()}_isUniCloudSSE(t){if(t.type!=="receive")return!1;const n=t&&t.data&&t.data.payload;return!(!n||n.channel!=="UNI_CLOUD_SSE"||n.seqId!==this._seqId)}_receivePushMessage(t){if(!this._isUniCloudSSE(t))return;const n=t&&t.data&&t.data.payload,{action:r,messageId:o,message:s}=n;this._payloadQueue.push({action:r,messageId:o,message:s}),this._consumMessage()}_consumMessage(){for(;;){const t=this._payloadQueue.find(n=>n.messageId===this._currentMessageId+1);if(!t)break;this._currentMessageId++,this._parseMessagePayload(t)}}_parseMessagePayload(t){const{action:n,messageId:r,message:o}=t;n==="end"?this._end({messageId:r,message:o}):n==="message"&&this._appendMessage({messageId:r,message:o})}_appendMessage({messageId:t,message:n}={}){this.emit("message",n)}_end({messageId:t,message:n}={}){this.emit("end",n),this.close()}_initMessageListener(){S.onPushMessage(this._uniPushMessageCallback)}_destroy(){S.offPushMessage(this._uniPushMessageCallback)}toJSON(){return{appId:this._appId,pushClientId:this._pushClientId,seqId:this._seqId}}close(){this._destroy(),this.emit("close")}}async function D_(e,t){const n=`http://${e}:${t}/system/ping`;try{const o=await(r={url:n,timeout:500},new Promise((s,i)=>{Z.request({...r,success(c){s(c)},fail(c){i(c)}})}));return!(!o.data||o.data.code!==0)}catch{return!1}var r}async function N_(e){const t=e.__dev__;if(!t.debugInfo)return;const{address:n,servePort:r}=t.debugInfo,{address:o}=await async function(c,u){let a;for(let l=0;l<c.length;l++){const f=c[l];if(await D_(f,u)){a=f;break}}return{address:a,port:u}}(n,r);if(o)return t.localAddress=o,void(t.localPort=r);const s=console.warn;let i="";if(t.debugInfo.initialLaunchType==="remote"?(t.debugInfo.forceRemote=!0,i=`当前客户端和HBuilderX不在同一局域网下（或其他网络原因无法连接HBuilderX），uniCloud本地调试服务不对当前客户端生效。
- 如果不使用uniCloud本地调试服务，请直接忽略此信息。
- 如需使用uniCloud本地调试服务，请将客户端与主机连接到同一局域网下并重新运行到客户端。`):i=`无法连接uniCloud本地调试服务，请检查当前客户端是否与主机在同一局域网下。
- 如需使用uniCloud本地调试服务，请将客户端与主机连接到同一局域网下并重新运行到客户端。`,i+=`
- 如果在HBuilderX开启的状态下切换过网络环境，请重启HBuilderX后再试
- 检查系统防火墙是否拦截了HBuilderX自带的nodejs
- 检查是否错误的使用拦截器修改uni.request方法的参数`,vt.indexOf("mp-")===0&&(i+=`
- 小程序中如何使用uniCloud，请参考：https://uniapp.dcloud.net.cn/uniCloud/publish.html#useinmp`),!t.debugInfo.forceRemote)throw new Error(i);s(i)}function M_(e){e._initPromiseHub||(e._initPromiseHub=new No({createPromise:function(){let t=Promise.resolve();var n;n=1,t=new Promise(o=>{setTimeout(()=>{o()},n)});const r=e.auth();return t.then(()=>r.getLoginState()).then(o=>o?Promise.resolve():r.signInAnonymously())}}))}const U_={tcb:Zs,tencent:Zs,aliyun:Rm,private:n_};let le=new class{init(e){let t={};const n=U_[e.provider];if(!n)throw new Error("未提供正确的provider参数");return t=n.init(e),function(r){const o={};r.__dev__=o,o.debugLog=vt==="app";const s=Om;s&&!s.code&&(o.debugInfo=s);const i=new No({createPromise:function(){return N_(r)}});o.initLocalNetwork=function(){return i.exec()}}(t),M_(t),f_(t),function(r){const o=r.uploadFile;r.uploadFile=function(s){return o.call(this,s)}}(t),function(r){r.database=function(o){if(o&&Object.keys(o).length>0)return r.init(o).database();if(this._database)return this._database;const s=ii(ci,{uniClient:r});return this._database=s,s},r.databaseForJQL=function(o){if(o&&Object.keys(o).length>0)return r.init(o).databaseForJQL();if(this._databaseForJQL)return this._databaseForJQL;const s=ii(ci,{uniClient:r,isJQL:!0});return this._databaseForJQL=s,s}}(t),function(r){r.getCurrentUserInfo=P_,r.chooseAndUploadFile=x_.initChooseAndUploadFile(r),Object.assign(r,{get mixinDatacom(){return mu(r)}}),r.SSEChannel=L_,r.initSecureNetworkByWeixin=R_(r),r.importObject=E_(r)}(t),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach(r=>{if(!t[r])return;const o=t[r];t[r]=function(){return o.apply(t,Array.from(arguments))},t[r]=function(s,i){return function(c){let u=!1;i==="callFunction"&&(u=(c&&c.type||Ds)!==Ds);const a=i==="callFunction"&&!u,l=this._initPromiseHub.exec();c=c||{};const{success:f,fail:d,complete:h}=Va(c),_=l.then(()=>u?Promise.resolve():te(ne(i,"invoke"),c)).then(()=>s.call(this,c)).then(g=>u?Promise.resolve(g):te(ne(i,"success"),g).then(()=>te(ne(i,"complete"),g)).then(()=>(a&&ae(Se,{type:ln,content:g}),Promise.resolve(g))),g=>u?Promise.reject(g):te(ne(i,"fail"),g).then(()=>te(ne(i,"complete"),g)).then(()=>(ae(Se,{type:ln,content:g}),Promise.reject(g))));if(!(f||d||h))return _;_.then(g=>{f&&f(g),h&&h(g),a&&ae(Se,{type:ln,content:g})},g=>{d&&d(g),h&&h(g),a&&ae(Se,{type:ln,content:g})})}}(t[r],r).bind(t)}),t.init=this.init,t}};(()=>{const e=qa;let t={};if(e&&e.length===1)t=e[0],le=le.init(t),le._isDefault=!0;else{const n=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"];let r;r=e&&e.length>0?"应用有多个服务空间，请通过uniCloud.init方法指定要使用的服务空间":"应用未关联服务空间，请在uniCloud目录右键关联服务空间",n.forEach(o=>{le[o]=function(){return console.error(r),Promise.reject(new E({code:"SYS_ERR",message:r}))}})}Object.assign(le,{get mixinDatacom(){return mu(le)}}),T_(le),le.addInterceptor=Ba,le.removeInterceptor=Cm,le.interceptObject=Em})();var pi=le;const ee=S.getSystemInfoSync(),Dn="3.8.7",j_="https://tongji.dcloud.io/uni/stat",F_="https://tongji.dcloud.io/uni/stat.gif",q_=1800,H_=300,B_=10,K_=60*1e3*60*24,De="__UNI__7420222",Be=(e,t)=>{let n=S.getStorageSync("$$STAT__DBDATA:"+De)||{};n||(n={}),n[e]=t,S.setStorageSync("$$STAT__DBDATA:"+De,n)},He=e=>{let t=S.getStorageSync("$$STAT__DBDATA:"+De)||{};if(!t[e]){let n=S.getStorageSync("$$STAT__DBDATA:"+De);if(n||(n={}),!n[e])return;t[e]=n[e]}return t[e]},yu=e=>{let t=S.getStorageSync("$$STAT__DBDATA:"+De)||{};t[e]?(delete t[e],S.setStorageSync("$$STAT__DBDATA:"+De,t)):(t=S.getStorageSync("$$STAT__DBDATA:"+De),t[e]&&(delete t[e],S.setStorageSync("$$STAT__DBDATA:"+De,t)))},Gt={version:"2",enable:!0};let V_={appid:"__UNI__7420222"},Zr={};Zr={"pages/home/index":"首页","pages/me/index":"我的"};const _r="__DC_STAT_UUID",di="__DC_UUID_VALUE";function vu(){let e="";if(J()==="n"){try{e=plus.runtime.getDCloudId()}catch{e=""}return e}try{e=S.getStorageSync(_r)}catch{e=di}if(!e){e=Date.now()+""+Math.floor(Math.random()*1e7);try{S.setStorageSync(_r,e)}catch{S.setStorageSync(_r,di)}}return e}const W_=e=>ee.deviceId||vu(),z_=e=>{let t="";if(J()==="n"){try{t=plus.device.uuid}catch{t=""}return t}return ee.deviceId||vu()},bu=V_,J_=e=>{let n=Object.keys(e).sort(),r={},o="";for(var s in n)r[n[s]]=e[n[s]],o+=n[s]+"="+e[n[s]]+"&";return{sign:"",options:o.substr(0,o.length-1)}},G_=e=>{let t={};for(let n in e)t[n]=encodeURIComponent(e[n]);return t},J=()=>{const t={app:"n","app-plus":"n",h5:"h5","mp-weixin":"wx",[["y","a","p","mp-ali"].reverse().join("")]:"ali","mp-baidu":"bd","mp-toutiao":"tt","mp-qq":"qq","quickapp-native":"qn","mp-kuaishou":"ks","mp-lark":"lark","quickapp-webview":"qw"};if(t["mp-weixin"]==="ali"&&my&&my.env){const n=my.env.clientName;if(n==="ap")return"ali";if(n==="dingtalk")return"dt"}return t["mp-weixin"]},Y_=()=>{let e="";return(J()==="wx"||J()==="qq")&&S.canIUse("getAccountInfoSync")&&(e=S.getAccountInfoSync().miniProgram.appId||""),J(),e},Q_=()=>J()==="n"?plus.runtime.version:"",X_=()=>{const e=J();let t="";return e==="n"&&(t=plus.runtime.channel),t},Z_=e=>{const t=J();let n="";return e||(t==="wx"&&(n=S.getLaunchOptionsSync().scene),n)},hi=e=>{let t=e||wu();if(J()==="bd"){let n=t.$mp&&t.$mp.page&&t.$mp.page.is,r=t.$scope&&t.$scope.is;return n||r||""}else return t.route||t.$scope&&t.$scope.route||t.$mp&&t.$mp.page.route},yr=e=>{let t=e&&(e.$page||e.$scope&&e.$scope.$page),n=S.getStorageSync("_STAT_LAST_PAGE_ROUTE");return t?t.fullPath==="/"?t.route:t.fullPath||t.route:n||""},wu=()=>{let e=getCurrentPages(),t=e[e.length-1];return t?t.$vm:null},dn=e=>e.mpType==="page"||e.$mpType==="page"||e.$mp&&e.$mp.mpType==="page"||e.$options.mpType==="page"?"page":e.mpType==="app"||e.$mpType==="app"||e.$mp&&e.$mp.mpType==="app"||e.$options.mpType==="app"?"app":null,gi=e=>{let t=[],n=[],r=[];for(let o in e)e[o].forEach(i=>{let c="";c=i,o===0?t.push(c):o===3?r.push(c):n.push(c)});return t.push(...n,...r),JSON.stringify(t)},ey=(e,t)=>{if(!e)return console.error("uni.report Missing [eventName] parameter"),!0;if(typeof e!="string")return console.error("uni.report [eventName] Parameter type error, it can only be of type String"),!0;if(e.length>255)return console.error("uni.report [eventName] Parameter length cannot be greater than 255"),!0;if(typeof t!="string"&&typeof t!="object")return console.error("uni.report [options] Parameter type error, Only supports String or Object type"),!0;if(typeof t=="string"&&t.length>255)return console.error("uni.report [options] Parameter length cannot be greater than 255"),!0;if(e==="title"&&typeof t!="string")return console.error("uni.report [eventName] When the parameter is title, the [options] parameter can only be of type String"),!0},vr=e=>Zr&&Zr[e]||"",hn="Report_Data_Time",vn="Report_Status",ty=()=>new Promise((e,t)=>{let n="",r=new Date().getTime(),o=K_,s=1;try{n=S.getStorageSync(hn),s=S.getStorageSync(vn)}catch{n="",s=1}if(s===""){mi(({enable:i})=>{S.setStorageSync(hn,r),S.setStorageSync(vn,i),i===1&&e()});return}s===1&&e(),n||(S.setStorageSync(hn,r),n=r),r-n>o&&mi(({enable:i})=>{S.setStorageSync(hn,r),S.setStorageSync(vn,i)})}),mi=e=>{let n={usv:Dn,conf:JSON.stringify({ak:"__UNI__7420222"})};S.request({url:j_,method:"GET",data:n,success:r=>{const{data:o}=r;o.ret===0&&typeof e=="function"&&e({enable:o.enable})},fail:r=>{let o=1;try{o=S.getStorageSync(vn)}catch{o=1}o===""&&(o=1),typeof e=="function"&&e({enable:o})}})},ny=()=>({}),ry=e=>{const t=ny(),{spaceId:n,provider:r,clientSecret:o}=t;return["tcb","tencent","aliyun"].indexOf(r)!==-1&&(r==="aliyun"&&n&&o||(r==="tcb"||r==="tencent")&&n)?t:e&&e.spaceId?e:null},oy=e=>{let t=Gt.reportInterval;return Number(t)===0?0:(t=t||e,/(^[1-9]\d*$)/.test(t)?Number(t):e)},sy=()=>{if(Gt.collectItems){const e=Gt.collectItems.uniPushClientID;return typeof e=="boolean"?e:!1}return!1},_i=()=>{if(Gt.collectItems){const e=Gt.collectItems.uniStatPageLog;return e===void 0?!0:typeof e=="boolean"?e:!0}return!0},yi="is_handle_device_id",iy=()=>{let e=He(yi)||"";return Be(yi,"1"),e==="1"},vi="__first__visit__time",eo="__last__visit__time",ce=()=>parseInt(new Date().getTime()/1e3),cy=()=>{const e=He(vi);let t=0;return e?t=e:(t=ce(),Be(vi,t),yu(eo)),t},ay=()=>{const e=He(eo);let t=0;return e&&(t=e),Be(eo,ce()),t},Su="__page__residence__time";let Ut=0,bi=0;const Iu=()=>(Ut=ce(),Be(Su,Ut),Ut),uy=()=>(bi=ce(),Ut=He(Su),bi-Ut),wi="__total__visit__count",ly=()=>{const e=He(wi);let t=1;return e&&(t=e,t++),Be(wi,t),t},Tu="__first_time",br=()=>{let e=ce();return Be(Tu,e)},gn=e=>{let t=0;const n=He(Tu),r=ce();if(n!==0&&(t=r-n),t=t<1?1:t,e==="app"){let o=t>H_;return{residenceTime:t,overtime:o}}if(e==="page"){let o=t>q_;return{residenceTime:t,overtime:o}}return{residenceTime:t}},fy=oy(B_);let py={uuid:W_(),ak:bu.appid,p:ee.platform==="android"?"a":"i",ut:J(),mpn:Y_(),usv:Dn,v:Q_(),ch:X_(),cn:"",pn:"",ct:"",t:ce(),tt:"",brand:ee.brand||"",md:ee.model,sv:ee.system.replace(/(Android|iOS)\s/,""),mpsdk:ee.SDKVersion||"",mpv:ee.version||"",lang:ee.language,pr:ee.pixelRatio,ww:ee.windowWidth,wh:ee.windowHeight,sw:ee.screenWidth,sh:ee.screenHeight};class dy{constructor(){this.self="",this.__licationShow=!1,this.__licationHide=!1,this.statData=py,this._navigationBarTitle={config:"",page:"",report:"",lt:""},this._query={},typeof S.addInterceptor=="function"&&(this.addInterceptorInit(),this.interceptLogin(),this.interceptShare(!0),this.interceptRequestPayment())}addInterceptorInit(){let t=this;S.addInterceptor("setNavigationBarTitle",{invoke(n){t._navigationBarTitle.page=n.title}})}interceptLogin(){let t=this;S.addInterceptor("login",{complete(){t._login()}})}interceptShare(t){let n=this;if(!t){n._share();return}S.addInterceptor("share",{success(){n._share()},fail(){n._share()}})}interceptRequestPayment(){let t=this;S.addInterceptor("requestPayment",{success(){t._payment("pay_success")},fail(){t._payment("pay_fail")}})}_login(){this.sendEventRequest({key:"login"},0)}_share(){this.sendEventRequest({key:"share"},0)}_payment(t){this.sendEventRequest({key:t},0)}applicationShow(){if(this.__licationHide){if(gn("app").overtime){let r={path:S.getStorageSync("_STAT_LAST_PAGE_ROUTE"),scene:this.statData.sc,cst:2};this.sendReportRequest(r)}this.__licationHide=!1}}applicationHide(t,n){t||(t=wu()),this.__licationHide=!0;const r=gn(),o=yr(t);S.setStorageSync("_STAT_LAST_PAGE_ROUTE",o),this.sendHideRequest({urlref:o,urlref_ts:r.residenceTime},n),br()}pageShow(t){this._navigationBarTitle={config:"",page:"",report:"",lt:""};const n=yr(t),r=hi(t);if(this._navigationBarTitle.config=vr(r),this.__licationShow){br(),S.setStorageSync("_STAT_LAST_PAGE_ROUTE",n),this.__licationShow=!1;return}if(gn("page").overtime){let s={path:n,scene:this.statData.sc,cst:3};this.sendReportRequest(s)}br()}pageHide(t){if(!this.__licationHide){const n=gn("page");let r=yr(t),o=S.getStorageSync("_STAT_LAST_PAGE_ROUTE");o||(o=r),S.setStorageSync("_STAT_LAST_PAGE_ROUTE",r),this.sendPageRequest({url:r,urlref:o,urlref_ts:n.residenceTime});return}}sendReportRequest(t,n){this._navigationBarTitle.lt="1",this._navigationBarTitle.config=vr(t.path);let o=t.query&&JSON.stringify(t.query)!=="{}"?"?"+JSON.stringify(t.query):"";const s=ay();if(s!==0||!s){const i=z_();iy()||(this.statData.odid=i)}Object.assign(this.statData,{lt:"1",url:t.path+o||"",t:ce(),sc:Z_(t.scene),fvts:cy(),lvts:s,tvc:ly(),cst:t.cst||1}),J()==="n"?this.getProperty(n):this.getNetworkInfo(n)}sendPageRequest(t){let{url:n,urlref:r,urlref_ts:o}=t;this._navigationBarTitle.lt="11";let s={ak:this.statData.ak,uuid:this.statData.uuid,p:this.statData.p,lt:"11",ut:this.statData.ut,url:n,tt:this.statData.tt,urlref:r,urlref_ts:o,ch:this.statData.ch,usv:this.statData.usv,t:ce()};this.request(s)}sendHideRequest(t,n){let{urlref:r,urlref_ts:o}=t,s={ak:this.statData.ak,uuid:this.statData.uuid,p:this.statData.p,lt:"3",ut:this.statData.ut,urlref:r,urlref_ts:o,ch:this.statData.ch,usv:this.statData.usv,t:ce()};this.request(s,n)}sendEventRequest({key:t="",value:n=""}={}){let r="";try{r=hi()}catch{r=He("__launch_options").path}this._navigationBarTitle.config=vr(r),this._navigationBarTitle.lt="21";let o={ak:this.statData.ak,uuid:this.statData.uuid,p:this.statData.p,lt:"21",ut:this.statData.ut,url:r,ch:this.statData.ch,e_n:t,e_v:typeof n=="object"?JSON.stringify(n):n.toString(),usv:this.statData.usv,t:ce()};this.request(o)}sendPushRequest(t,n){let r=ce();const o={lt:"101",cid:n,t:r,ut:this.statData.ut},s=gi({101:[o]});let i={usv:Dn,t:r,requests:s};if(J()==="n"&&this.statData.p==="a"){setTimeout(()=>{this.sendRequest(i)},200);return}this.sendRequest(i)}getProperty(t){plus.runtime.getProperty(plus.runtime.appid,n=>{this.statData.v=n.version||"",this.getNetworkInfo(t)})}getNetworkInfo(t){S.getNetworkType({success:n=>{this.statData.net=n.networkType,this.getLocation(t)}})}getLocation(t){bu.getLocation?S.getLocation({type:"wgs84",geocode:!0,success:n=>{n.address&&(this.statData.cn=n.address.country,this.statData.pn=n.address.province,this.statData.ct=n.address.city),this.statData.lat=n.latitude,this.statData.lng=n.longitude,this.request(this.statData,t)}}):(this.statData.lat=0,this.statData.lng=0,this.request(this.statData,t))}request(t,n){let r=ce();const o=this._navigationBarTitle;Object.assign(t,{ttn:o.page,ttpj:o.config,ttc:o.report});let s=He("__UNI__STAT__DATA")||{};if(s[t.lt]||(s[t.lt]=[]),s[t.lt].push(t),Be("__UNI__STAT__DATA",s),uy()<fy&&!n)return;Iu();const c=gi(s);let u={usv:Dn,t:r,requests:c};if(yu("__UNI__STAT__DATA"),J()==="n"&&this.statData.p==="a"){setTimeout(()=>{this.sendRequest(u)},200);return}this.sendRequest(u)}getIsReportData(){return ty()}sendRequest(t){{if(!S.__stat_uniCloud_space){console.error("应用未关联服务空间，统计上报失败，请在uniCloud目录右键关联服务空间.");return}S.__stat_uniCloud_space.importObject("uni-stat-receiver",{customUI:!0}).report(t).then(()=>{}).catch(r=>{})}}imageRequest(t){this.getIsReportData().then(()=>{let n=new Image,r=J_(G_(t)).options;n.src=F_+"?"+r})}sendEvent(t,n){if(!ey(t,n)){if(t==="title"){this._navigationBarTitle.report=n;return}this.sendEventRequest({key:t,value:typeof n=="object"?JSON.stringify(n):n},1)}}}class Ho extends dy{static getInstance(){S.__stat_instance||(S.__stat_instance=new Ho);{let t=ry(pi.config);if(!S.__stat_uniCloud_space)if(t&&Object.keys(t).length!==0){let n={provider:t.provider,spaceId:t.spaceId,clientSecret:t.clientSecret};t.endpoint&&(n.endpoint=t.endpoint),S.__stat_uniCloud_space=pi.init(n)}else console.error("应用未关联服务空间，请在uniCloud目录右键关联服务空间")}return S.__stat_instance}constructor(){super()}pushEvent(t){const n=sy();S.getPushClientId&&n&&S.getPushClientId({success:r=>{const o=r.cid||!1;o&&this.sendPushRequest(t,o)}})}launch(t,n){Iu(),this.__licationShow=!0,Be("__launch_options",t),t.cst=1,this.sendReportRequest(t,!0)}load(t,n){this.self=n,this._query=t}appHide(t){this.applicationHide(t,!0)}appShow(t){this.applicationShow(t)}show(t){this.self=t,dn(t)==="page"&&_i()&&this.pageShow(t),(J()==="h5"||J()==="n")&&dn(t)==="app"&&this.appShow()}hide(t){this.self=t,dn(t)==="page"&&_i()&&this.pageHide(t),(J()==="h5"||J()==="n")&&dn(t)==="app"&&this.appHide()}error(t){let n="";t.message?n=t.stack:n=JSON.stringify(t);let r="";try{r=get_route()}catch{r=""}let o={ak:this.statData.ak,uuid:this.statData.uuid,p:this.statData.p,lt:"31",url:r,ut:this.statData.ut,ch:this.statData.ch,mpsdk:this.statData.mpsdk,mpv:this.statData.mpv,v:this.statData.v,em:n,usv:this.statData.usv,t:parseInt(new Date().getTime()/1e3)};this.request(o)}}var hy=Ho;hy.getInstance();function gy(){S.report=function(e,t){}}gy();const Au=e=>(t,n=Ao())=>{!Kt&&Ot(e,t,n)},_y=Au(Tt),yy=Au(qn);exports._export_sfc=Pu;exports.createSSRApp=Qh;exports.createStore=cm;exports.e=Wh;exports.index=S;exports.mapActions=um;exports.mapMutations=am;exports.n=zh;exports.o=Kh;exports.onLoad=_y;exports.onUnload=yy;exports.p=Gh;exports.reactive=Qt;exports.ref=$c;exports.resolveComponent=Sd;exports.s=Vh;exports.t=Jh;exports.useStore=Yg;exports.wx$1=Dt;
